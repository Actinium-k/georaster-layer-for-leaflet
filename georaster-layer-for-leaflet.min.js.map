{"version":3,"sources":["webpack:///webpack/bootstrap c3f12b42f9e1779af779","webpack:///./node_modules/utm-utils/src/isUTM.js","webpack:///./node_modules/utm-utils/src/getProjString.js","webpack:///./node_modules/utm-utils/src/getZone.js","webpack:///./node_modules/utm-utils/src/getHemisphere.js","webpack:///./georaster-layer-for-leaflet.js","webpack:///(webpack)/buildin/harmony-module.js","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///./node_modules/chroma-js/chroma.js","webpack:///(webpack)/buildin/module.js"],"names":["module","exports","isUTM","projection","projstr","toString","startsWith","getZone","require","getHemisphere","getProjString","zone","hemisphere","Number","parseInt","substring","EPSG4326","PROJ4_SUPPORTED_PROJECTIONS","Set","MAX_NORTHING","MAX_EASTING","ORIGIN","GeoRasterLayer","L","GridLayer","extend","initialize","options","georasters","georaster","Error","keys","length","forEach","key","same","ratio","height","width","sourceType","updateWhenIdle","updateWhenZooming","keepBuffer","debugLevel","resolution","Math","pow","undefined","console","log","every","values","rasters","reduce","result","concat","chroma","scale","setOptions","tileSize","getTileSize","tileHeight","y","tileWidth","x","pixelValuesToColorFn","numberOfRasters","error","getRasters","tileNwPoint","heightOfSampleInScreenPixels","widthOfSampleInScreenPixels","coords","numberOfSamplesAcross","numberOfSamplesDown","ymax","xmin","rasterCoordsForTileCoords","h","w","xCenterInMapPixels","yCenterInMapPixels","mapPoint","point","getMap","unproject","z","lat","lng","floor","pixelHeight","pixelWidth","getProjector","inverse","Infinity","topLeft","bottomRight","getValuesOptions","bottom","left","right","top","Object","isFinite","Promise","all","map","getValues","then","valuesByGeoRaster","createTile","done","tile","DomUtil","create","context","getContext","drawTile","inSimpleCRS","crs","CRS","Simple","rasterHeight","rasterWidth","getBounds","_northEast","xMinOfLayer","xMaxOfLayer","yMinOfLayer","yMaxOfLayer","boundsOfTile","_tileCoordsToBounds","xMinOfTileInMapCRS","getWest","xMaxOfTileInMapCRS","getEast","yMinOfTileInMapCRS","getSouth","yMaxOfTileInMapCRS","getNorth","rasterPixelsAcross","rasterPixelsDown","ceil","projector","topRight","bottomLeft","max","min","heightOfSampleInScreenPixelsInt","widthOfSampleInScreenPixelsInt","scaleBy","setTimeout","tileRasters","latWestPoint","yInTilePixels","round","yInRasterPixels","latLngPoint","xOfLayer","xInRasterPixels","inverted","yInSrc","xInSrc","band","customDrawFunction","rasterX","rasterY","sampleX","sampleY","sampledRaster","color","getColor","fillStyle","fillRect","initBounds","_bounds","_map","_mapToAdd","_isValidTile","infinite","globalBounds","_globalTileRange","wrapLng","wrapLat","bounds","layerBounds","latLngBounds","overlaps","leftCoords","rightCoords","numberOfValues","haveDataForAllBands","value","noDataValue","mins","ranges","palette","r","g","b","a","hex","updateColors","tiles","getActiveTiles","el","getTiles","_tiles","filter","isSupportedProjection","has","getProjectionString","xmax","ymin","minLatWest","latLng","maxLatEast","forward","proj4","_projector","array","item","size","window","self","originalModule","webpackPolyfill","children","defineProperty","enumerable","get","l","i","runtime","Op","prototype","hasOwn","hasOwnProperty","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","obj","configurable","writable","err","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","Context","_invoke","makeInvokeMethod","tryCatch","fn","arg","type","call","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","Gp","constructor","displayName","defineIteratorMethods","method","isGeneratorFunction","genFun","ctor","name","mark","setPrototypeOf","__proto__","awrap","__await","AsyncIterator","PromiseImpl","invoke","resolve","reject","record","unwrapped","previousPromise","enqueue","callInvokeWithMethodAndArg","async","iter","next","state","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","info","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","object","reverse","pop","iterable","iteratorMethod","isNaN","skipTempReset","prev","charAt","slice","stop","rootEntry","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","Function","Color","DEG2RAD","LAB_CONSTANTS","PI","PITHIRD","RAD2DEG","TWOPI","_average_lrgb","_guess_formats","_guess_formats_sorted","_input","_interpolators","abs","atan2","bezier","blend","blend_f","brewer","burn","clip_rgb","cmyk2rgb","colors","cos","css2rgb","darken","dodge","each","hcg2rgb","hex2rgb","hsi2rgb","hsl2css","hsl2rgb","hsv2rgb","interpolate","interpolate_hsx","interpolate_lab","interpolate_lrgb","interpolate_num","interpolate_rgb","lab2lch","lab2rgb","lab_xyz","lch2lab","lch2rgb","lighten","limit","luminance_x","m","multiply","normal","num2rgb","overlay","rgb2cmyk","rgb2css","rgb2hcg","rgb2hex","rgb2hsi","rgb2hsl","rgb2hsv","rgb2lab","rgb2lch","rgb2luminance","rgb2num","rgb2temperature","rgb2xyz","rgb_xyz","rnd","root","screen","sin","sqrt","temperature2rgb","unpack","w3cx11","xyz_lab","xyz_rgb","classToType","len","o","ref","split","toLowerCase","strType","args","Array","rgb","_clipped","_unclipped","arguments","func","child","apply","version","chk","len1","me","mode","_rgb","sort","p","test","warn","OrRd","PuBu","BuPu","Oranges","BuGn","YlOrBr","YlGn","Reds","RdPu","Greens","YlGnBu","Purples","GnBu","Greys","YlOrRd","PuRd","Blues","PuBuGn","Viridis","Spectral","RdYlGn","RdBu","PiYG","PRGn","RdYlBu","BrBG","RdGy","PuOr","Set2","Accent","Set1","Set3","Dark2","Paired","Pastel2","Pastel1","results","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflower","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","laserlemon","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrod","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","maroon2","maroon3","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","purple2","purple3","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","Yn","Xn","Zn","t","t1","t2","t0","Kn","t3","ref1","lab","I","I0","I1","c","lab0","lab1","lab2","lab3","ref2","f","cubehelix","start","rotations","hue","gamma","lightness","dh","dl","fract","amp","cos_a","sin_a","s","random","code","digits","col1","col2","interpol","res","alpha","mix","k","v","rgba","n","lrgb","xyz0","xyz1","col","xyz","average","A","cnt","dx","dy","first","xyz2","splice","u","match","substr","css","channels","hxa","str","NaN","hsl","q","ref3","ref4","ref5","delta","hsv","num","_c","_g","hcg","aa","ab","join","named","lch","hcl","cmyk","gl","luminance","lum","cur_lum","eps","max_iter","lm","kelvin","temp","maxTemp","minTemp","temperature","K","contrast","l1","l2","distance","d","sum_sq","deltaE","C","L1","L2","a1","a2","b1","b2","c1","c2","c4","dH2","delA","delB","delC","delL","h1","sc","sh","sl","v1","v2","v3","modechan","channel","src","indexOf","set","clipped","amount","brighten","darker","brighter","saturate","desaturate","premultiply","c0","out","analyze","data","val","MAX_VALUE","sum","count","domain","limits","positions","_classes","_colorCache","_colors","_correctLightness","_domain","_fixed","_gamma","_max","_min","_mode","_nacol","_out","_padding","_pos","_spread","_useCache","classifyValue","getClass","resetCache","setColors","tmap","maxc","minc","bypassMap","classes","_m","range","_o","spread","correctLightness","L0","L_actual","L_diff","L_ideal","pol","padding","numColors","dd","dm","samples","cache","nodata","scales","cool","hot","add","visit","ac","ad","ae","af","ag","ah","ai","aj","ak","al","am","assignments","best","centroids","cluster","clusterSizes","dist","j","kClusters","max_log","min_log","mindist","nb_iters","newCentroids","pb","pr","ref10","ref11","ref12","ref13","ref14","ref6","ref7","ref8","ref9","repeat","tmpKMeansBreaks","LOG10E","acos","hsi","hue0","hue1","lbv","lbv0","lbv1","sat","sat0","sat1","n1","n2","deprecate","paths"],"mappings":"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","file":"georaster-layer-for-leaflet.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 36);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c3f12b42f9e1779af779","module.exports = function isUTM(projection) {\n    const projstr = projection.toString();\n    return projstr.startsWith('326') || projstr.startsWith('327');\n}\n\n\n// WEBPACK FOOTER //\n// ./node_modules/utm-utils/src/isUTM.js","const getZone = require('./getZone');\nconst getHemisphere = require('./getHemisphere');\n\nmodule.exports = function getProjString (projection) {\n    const zone = getZone(projection);\n    const hemisphere = getHemisphere(projection);\n    return `+proj=utm +zone=${zone}${hemisphere === 'S' ? ' +south ' : ' '}+ellps=WGS84 +datum=WGS84 +units=m +no_defs`;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/utm-utils/src/getProjString.js","module.exports = function getZone (projection) {\n    return Number.parseInt(projection.toString().substring(3));\n};\n\n\n// WEBPACK FOOTER //\n// ./node_modules/utm-utils/src/getZone.js","module.exports = function getHemisphere (projection) {\n    const projstr = projection.toString();\n    if (projstr.startsWith('326')) {\n      return 'N';\n    } else if (projstr.startsWith('327')) {\n      return 'S';\n    }\n  }\n\n\n// WEBPACK FOOTER //\n// ./node_modules/utm-utils/src/getHemisphere.js","/* global L, proj4 */\nimport \"regenerator-runtime/runtime\";\nimport chroma from \"chroma-js\";\nimport isUTM from \"utm-utils/src/isUTM\";\nimport getProjString from \"utm-utils/src/getProjString\";\n\nconst EPSG4326 = 4326;\nconst PROJ4_SUPPORTED_PROJECTIONS = new Set([3857, 4269]);\nconst MAX_NORTHING = 1000;\nconst MAX_EASTING = 1000;\nconst ORIGIN = [0, 0];\n\nconst GeoRasterLayer = L.GridLayer.extend({\n  initialize: function (options) {\n    try {\n      if (options.georasters) {\n        this.georasters = options.georasters;\n      } else if (options.georaster) {\n        this.georasters = [options.georaster];\n      } else {\n        throw new Error(\"You initialized a GeoRasterLayer without a georaster or georasters value.\");\n      }\n\n      /*\n          Unpacking values for use later.\n          We do this in order to increase speed.\n      */\n      const keys = [\n        \"height\",\n        \"width\",\n        \"noDataValue\",\n        \"palette\",\n        \"pixelHeight\",\n        \"pixelWidth\",\n        \"projection\",\n        \"sourceType\",\n        \"xmin\",\n        \"xmax\",\n        \"ymin\",\n        \"ymax\"\n      ];\n      if (this.georasters.length > 1) {\n        keys.forEach(key => {\n          if (this.same(this.georasters, key)) {\n            this[key] = this.georasters[0][key];\n          } else {\n            throw new Error(\"all GeoRasters must have the same \" + key);\n          }\n        });\n      } else if (this.georasters.length === 1) {\n        keys.forEach(key => {\n          this[key] = this.georasters[0][key];\n        });\n      }\n\n      // used later if simple projection\n      this.ratio = this.height / this.width;\n\n      if (this.sourceType === \"url\") {\n        if (!options.updateWhenIdle) options.updateWhenIdle = false;\n        if (!options.updateWhenZooming) options.updateWhenZooming = true;\n        if (!options.keepBuffer) options.keepBuffer = 16;\n      }\n\n      if (!(\"debugLevel\" in options)) options.debugLevel = 1;\n      if (!options.keepBuffer) options.keepBuffer = 25;\n      if (!options.resolution) options.resolution = Math.pow(2, 5);\n      if (options.updateWhenZooming === undefined) options.updateWhenZooming = false;\n\n      this.debugLevel = options.debugLevel;\n      if (this.debugLevel >= 1) console.log(\"georaster:\", options);\n\n      if (this.georasters.every(georaster => typeof georaster.values === \"object\")) {\n        this.rasters = this.georasters.reduce((result, georaster) => {\n          result = result.concat(georaster.values);\n          return result;\n        }, []);\n        if (this.debugLevel > 1) console.log(\"this.rasters:\", this.rasters);\n      }\n\n      this.chroma = chroma;\n      this.scale = chroma.scale();\n\n      L.setOptions(this, options);\n\n      /*\n          Caching the constant tile size, so we don't recalculate everytime we\n          create a new tile\n      */\n      const tileSize = this.getTileSize();\n      this.tileHeight = tileSize.y;\n      this.tileWidth = tileSize.x;\n\n      if (this.georasters.length > 1 && !options.pixelValuesToColorFn) {\n        throw \"you must pass in a pixelValuesToColorFn if you are combining rasters\";\n      }\n\n      if (\n        this.georasters.length === 1 &&\n        this.georasters[0].sourceType === \"url\" &&\n        this.georasters[0].numberOfRasters === 1 &&\n        !options.pixelValuesToColorFn\n      ) {\n        // For COG, we can't determine a data min max for color scaling,\n        // so pixelValuesToColorFn is required.\n        throw \"pixelValuesToColorFn is a required option for single-band rasters initialized via URL\";\n      }\n    } catch (error) {\n      console.error(\"ERROR initializing GeoTIFFLayer\", error);\n    }\n  },\n\n  getRasters: function (options) {\n    const {\n      tileNwPoint,\n      heightOfSampleInScreenPixels,\n      widthOfSampleInScreenPixels,\n      coords,\n      numberOfSamplesAcross,\n      numberOfSamplesDown,\n      ymax,\n      xmin\n    } = options;\n    if (this.debugLevel >= 1) console.log(\"starting getRasters with options:\", options);\n    // called if georaster was constructed from URL and we need to get\n    // data separately for each tile\n    // aka 'COG mode'\n\n    /*\n      This function takes in coordinates in the rendered image tile and\n      returns the y and x values in the original raster\n    */\n    const rasterCoordsForTileCoords = (h, w) => {\n      const xCenterInMapPixels = tileNwPoint.x + (w + 0.5) * widthOfSampleInScreenPixels;\n      const yCenterInMapPixels = tileNwPoint.y + (h + 0.5) * heightOfSampleInScreenPixels;\n\n      const mapPoint = L.point(xCenterInMapPixels, yCenterInMapPixels);\n      if (this.debugLevel >= 1) console.log(\"mapPoint:\", mapPoint);\n\n      const { lat, lng } = this.getMap().unproject(mapPoint, coords.z);\n\n      if (this.projection === EPSG4326) {\n        return {\n          y: Math.floor((ymax - lat) / this.pixelHeight),\n          x: Math.floor((lng - xmin) / this.pixelWidth)\n        };\n      } else if (this.getProjector()) {\n        /* source raster doesn't use latitude and longitude,\n           so need to reproject point from lat/long to projection of raster\n        */\n        const [x, y] = this.getProjector().inverse([lng, lat]);\n        if (x === Infinity || y === Infinity) {\n          if (this.debugLevel >= 1) console.error(\"projector converted\", [lng, lat], \"to\", [x, y]);\n        }\n        return {\n          y: Math.floor((ymax - y) / this.pixelHeight),\n          x: Math.floor((x - xmin) / this.pixelWidth)\n        };\n      }\n    };\n\n    // careful not to flip min_y/max_y here\n    const topLeft = rasterCoordsForTileCoords(0, 0);\n    const bottomRight = rasterCoordsForTileCoords(numberOfSamplesDown - 1, numberOfSamplesAcross - 1);\n\n    const getValuesOptions = {\n      bottom: bottomRight.y,\n      height: numberOfSamplesDown,\n      left: topLeft.x,\n      right: bottomRight.x,\n      top: topLeft.y,\n      width: numberOfSamplesAcross\n    };\n    if (!Object.values(getValuesOptions).every(isFinite)) {\n      console.error(\"getRasters failed because not all values are finite:\", getValuesOptions);\n    } else {\n      return Promise.all(this.georasters.map(georaster => georaster.getValues(getValuesOptions))).then(\n        valuesByGeoRaster =>\n          valuesByGeoRaster.reduce((result, values) => {\n            result = result.concat(values);\n            return result;\n          }, [])\n      );\n    }\n  },\n\n  createTile: function (coords, done) {\n    /* This tile is the square piece of the Leaflet map that we draw on */\n    const tile = L.DomUtil.create(\"canvas\", \"leaflet-tile\");\n    tile.height = this.tileHeight;\n    tile.width = this.tileWidth;\n    const context = tile.getContext(\"2d\");\n\n    return this.drawTile({ tile, coords, context, done });\n  },\n\n  drawTile: function ({ tile, coords, context, done }) {\n    let error;\n\n    const inSimpleCRS = this.getMap().options.crs === L.CRS.Simple;\n\n    // Unpacking values for increased speed\n    const { rasters, xmin, ymax } = this;\n    const rasterHeight = this.height;\n    const rasterWidth = this.width;\n\n    const pixelHeight = inSimpleCRS ? this.getBounds()._northEast.lat / rasterHeight : this.pixelHeight;\n    const pixelWidth = inSimpleCRS ? this.getBounds()._northEast.lng / rasterWidth : this.pixelWidth;\n\n    // these values are used, so we don't try to sample outside of the raster\n    const { xMinOfLayer, xMaxOfLayer, yMinOfLayer, yMaxOfLayer } = this;\n    const boundsOfTile = this._tileCoordsToBounds(coords);\n\n    const xMinOfTileInMapCRS = boundsOfTile.getWest();\n    const xMaxOfTileInMapCRS = boundsOfTile.getEast();\n    const yMinOfTileInMapCRS = boundsOfTile.getSouth();\n    const yMaxOfTileInMapCRS = boundsOfTile.getNorth();\n\n    let rasterPixelsAcross, rasterPixelsDown;\n    if (inSimpleCRS || this.projection === EPSG4326) {\n      // width of the Leaflet tile in number of pixels from original raster\n      rasterPixelsAcross = Math.ceil((xMaxOfTileInMapCRS - xMinOfTileInMapCRS) / pixelWidth);\n      rasterPixelsDown = Math.ceil((yMaxOfTileInMapCRS - yMinOfTileInMapCRS) / pixelHeight);\n    } else if (this.getProjector()) {\n      const projector = this.getProjector();\n      // convert extent of Leaflet tile to projection of the georaster\n      const topLeft = projector.inverse({ x: xMinOfTileInMapCRS, y: yMaxOfTileInMapCRS });\n      const topRight = projector.inverse({ x: xMaxOfTileInMapCRS, y: yMaxOfTileInMapCRS });\n      const bottomLeft = projector.inverse({ x: xMinOfTileInMapCRS, y: yMinOfTileInMapCRS });\n      const bottomRight = projector.inverse({ x: xMaxOfTileInMapCRS, y: yMinOfTileInMapCRS });\n\n      rasterPixelsAcross = Math.ceil(Math.max(topRight.x - topLeft.x, bottomRight.x - bottomLeft.x) / pixelWidth);\n      rasterPixelsDown = Math.ceil(Math.max(topLeft.y - bottomLeft.y, topRight.y - bottomRight.y) / pixelHeight);\n    }\n\n    const { resolution } = this.options;\n\n    // prevent sampling more times than number of pixels to display\n    const numberOfSamplesAcross = Math.min(resolution, rasterPixelsAcross);\n    const numberOfSamplesDown = Math.min(resolution, rasterPixelsDown);\n\n    // set how large to display each sample in screen pixels\n    const heightOfSampleInScreenPixels = this.tileHeight / numberOfSamplesDown;\n    const heightOfSampleInScreenPixelsInt = Math.ceil(heightOfSampleInScreenPixels);\n    const widthOfSampleInScreenPixels = this.tileWidth / numberOfSamplesAcross;\n    const widthOfSampleInScreenPixelsInt = Math.ceil(widthOfSampleInScreenPixels);\n\n    const map = this.getMap();\n    const tileSize = this.getTileSize();\n\n    // this converts tile coordinates (how many tiles down and right)\n    // to pixels from left and top of tile pane\n    const tileNwPoint = coords.scaleBy(tileSize);\n\n    // render asynchronously so tiles show up as they finish instead of all at once (which blocks the UI)\n    setTimeout(async () => {\n      let tileRasters;\n      if (!rasters) {\n        tileRasters = await this.getRasters({\n          tileNwPoint,\n          heightOfSampleInScreenPixels,\n          widthOfSampleInScreenPixels,\n          coords,\n          pixelHeight,\n          pixelWidth,\n          numberOfSamplesAcross,\n          numberOfSamplesDown,\n          ymax,\n          xmin\n        });\n      }\n\n      for (let h = 0; h < numberOfSamplesDown; h++) {\n        const yCenterInMapPixels = tileNwPoint.y + (h + 0.5) * heightOfSampleInScreenPixels;\n        const latWestPoint = L.point(tileNwPoint.x, yCenterInMapPixels);\n        const { lat } = map.unproject(latWestPoint, coords.z);\n        if (lat > yMinOfLayer && lat < yMaxOfLayer) {\n          const yInTilePixels = Math.round(h * heightOfSampleInScreenPixels);\n\n          let yInRasterPixels;\n          if (inSimpleCRS || this.projection === EPSG4326) {\n            yInRasterPixels = Math.floor((yMaxOfLayer - lat) / pixelHeight);\n          } else {\n            yInRasterPixels = null;\n          }\n\n          for (let w = 0; w < numberOfSamplesAcross; w++) {\n            const latLngPoint = L.point(tileNwPoint.x + (w + 0.5) * widthOfSampleInScreenPixels, yCenterInMapPixels);\n            const { lng: xOfLayer } = map.unproject(latLngPoint, coords.z);\n            if (xOfLayer > xMinOfLayer && xOfLayer < xMaxOfLayer) {\n              let xInRasterPixels;\n              if (inSimpleCRS || this.projection === EPSG4326) {\n                xInRasterPixels = Math.floor((xOfLayer - xMinOfLayer) / pixelWidth);\n              } else if (this.getProjector()) {\n                const inverted = this.getProjector().inverse({ x: xOfLayer, y: lat });\n                const yInSrc = inverted.y;\n                yInRasterPixels = Math.floor((ymax - yInSrc) / pixelHeight);\n                if (yInRasterPixels < 0 || yInRasterPixels >= rasterHeight) continue;\n\n                const xInSrc = inverted.x;\n                xInRasterPixels = Math.floor((xInSrc - xmin) / pixelWidth);\n                if (xInRasterPixels < 0 || xInRasterPixels >= rasterWidth) continue;\n              }\n\n              let values = null;\n              if (tileRasters) {\n                // get value from array specific to this tile\n                values = tileRasters.map(band => band[h][w]);\n              } else if (rasters) {\n                // get value from array with data for entire raster\n                values = rasters.map(band => {\n                  return band[yInRasterPixels][xInRasterPixels];\n                });\n              } else {\n                done && done(\"no rasters are available for, so skipping value generation\");\n                return;\n              }\n\n              // x-axis coordinate of the starting point of the rectangle representing the raster pixel\n              const x = Math.round(w * widthOfSampleInScreenPixels);\n\n              // y-axis coordinate of the starting point of the rectangle representing the raster pixel\n              const y = yInTilePixels;\n\n              // how many real screen pixels does a pixel of the sampled raster take up\n              const width = widthOfSampleInScreenPixelsInt;\n              const height = heightOfSampleInScreenPixelsInt;\n\n              if (this.options.customDrawFunction) {\n                this.options.customDrawFunction({\n                  values,\n                  context,\n                  x,\n                  y,\n                  width,\n                  height,\n                  rasterX: xInRasterPixels,\n                  rasterY: yInRasterPixels,\n                  sampleX: w,\n                  sampleY: h,\n                  sampledRaster: tileRasters\n                });\n              } else {\n                const color = this.getColor(values);\n                if (color) {\n                  context.fillStyle = color;\n                  context.fillRect(x, y, width, height);\n                }\n              }\n            }\n          }\n        }\n      }\n\n      done && done(error, tile);\n    }, 0);\n\n    // return the tile so it can be rendered on screen\n    return tile;\n  },\n\n  // method from https://github.com/Leaflet/Leaflet/blob/bb1d94ac7f2716852213dd11563d89855f8d6bb1/src/layer/ImageOverlay.js\n  getBounds: function () {\n    this.initBounds();\n    return this._bounds;\n  },\n\n  getMap: function () {\n    return this._map || this._mapToAdd;\n  },\n\n  _isValidTile: function (coords) {\n    const crs = this.getMap().options.crs;\n\n    if (!crs.infinite) {\n      // don't load tile if it's out of bounds and not wrapped\n      const globalBounds = this._globalTileRange;\n      if (\n        (!crs.wrapLng && (coords.x < globalBounds.min.x || coords.x > globalBounds.max.x)) ||\n        (!crs.wrapLat && (coords.y < globalBounds.min.y || coords.y > globalBounds.max.y))\n      ) {\n        return false;\n      }\n    }\n\n    const bounds = this.getBounds();\n\n    if (!bounds) {\n      return true;\n    }\n\n    const { x, y, z } = coords;\n\n    const layerBounds = L.latLngBounds(bounds);\n\n    const boundsOfTile = this._tileCoordsToBounds(coords);\n\n    // check given tile coordinates\n    if (layerBounds.overlaps(boundsOfTile)) return true;\n\n    // if not within the original confines of the earth return false\n    // we don't want wrapping if using Simple CRS\n    if (crs === L.CRS.Simple) return false;\n\n    // width of the globe in tiles at the given zoom level\n    const width = Math.pow(2, z);\n\n    // check one world to the left\n    const leftCoords = L.point(x - width, y);\n    leftCoords.z = z;\n    if (layerBounds.overlaps(this._tileCoordsToBounds(leftCoords))) return true;\n\n    // check one world to the right\n    const rightCoords = L.point(x + width, y);\n    rightCoords.z = z;\n    if (layerBounds.overlaps(this._tileCoordsToBounds(rightCoords))) return true;\n\n    return false;\n  },\n\n  getColor: function (values) {\n    if (this.options.pixelValuesToColorFn) {\n      return this.options.pixelValuesToColorFn(values);\n    } else {\n      const numberOfValues = values.length;\n      const haveDataForAllBands = values.every(value => value !== undefined && value !== this.noDataValue);\n      if (haveDataForAllBands) {\n        if (numberOfValues == 1) {\n          const { mins, ranges } = this.georasters[0];\n          const value = values[0];\n          if (this.palette) {\n            const [r, g, b, a] = this.palette[value];\n            return `rgba(${r},${g},${b},${a / 255})`;\n          } else {\n            return this.scale((values[0] - mins[0]) / ranges[0]).hex();\n          }\n        } else if (numberOfValues === 2) {\n          return `rgb(${values[0]},${values[1]},0)`;\n        } else if (numberOfValues === 3) {\n          return `rgb(${values[0]},${values[1]},${values[2]})`;\n        } else if (numberOfValues === 4) {\n          return `rgba(${values[0]},${values[1]},${values[2]},${values[3] / 255})`;\n        }\n      }\n    }\n  },\n\n  /**\n   * The callback used to determine the colour based on the values of each pixel\n   *\n   * @callback pixelValuesToColorFn\n   * @param {array | number} values - The pixel value depends on the image being rendered. Multiband images will be a tuple of one value per band. Single band images will be a single number\n   * @returns {string} - Any valid CSS color string\n   */\n\n  /**\n   * Redraws the active map tiles updating the pixel values using the supplie callback\n   * @param {pixelValuesToColorFn} pixelValuesToColorFn - Callback that handles getting the pixel color\n   * @param {Object} [options] - Configuration options passed to the method\n   * @param {boolean} [options.debugLevel=0] - Overrides the global `debugLevel`. Set it to >=1 to allow output here when the global `debugLevel` = 0\n   */\n  updateColors(pixelValuesToColorFn, { debugLevel = 0 } = {}) {\n    if (!pixelValuesToColorFn) {\n      throw new Error(\"Missing pixelValuesToColorFn function\");\n    }\n\n    if (debugLevel >= 1 || this.debugLevel >= 1) console.log(\"Start updating active tile pixel values\");\n\n    // update option to ensure correct colours at other zoom levels.\n    this.options.pixelValuesToColorFn = pixelValuesToColorFn;\n\n    const tiles = this.getActiveTiles();\n    if (!tiles) {\n      console.error(\"No active tiles available\");\n      return this;\n    }\n\n    if (debugLevel >= 1 || this.debugLevel >= 1) console.log(\"Active tiles fetched\", tiles);\n\n    tiles.forEach(tile => {\n      const { coords, el } = tile;\n      this.drawTile({ tile, coords, context: el.getContext(\"2d\") });\n    });\n    if (debugLevel >= 1 || this.debugLevel >= 1) console.log(\"Finished updating active tile colours\");\n    return this;\n  },\n\n  getTiles() {\n    // transform _tiles object collection into an array\n    return  Object.values(this._tiles);\n  },\n\n  getActiveTiles() {\n    const tiles = this.getTiles();\n    // only return valid tiles\n    return tiles.filter(tile => this._isValidTile(tile.coords));\n  },\n\n  isSupportedProjection: function (projection) {\n    if (!projection) projection = this.projection;\n    return isUTM(projection) || PROJ4_SUPPORTED_PROJECTIONS.has(projection);\n  },\n\n  getProjectionString: function (projection) {\n    if (isUTM(projection)) {\n      return getProjString(projection);\n    }\n    return `EPSG:${projection}`;\n  },\n\n  initBounds: function (options = this.options) {\n    if (!this._bounds) {\n      const { debugLevel, height, width, projection, xmin, xmax, ymin, ymax } = this;\n      // check if map using Simple CRS\n      if (this.getMap().options.crs === L.CRS.Simple) {\n        if (height === width) {\n          this._bounds = L.latLngBounds([ORIGIN, [MAX_NORTHING, MAX_EASTING]]);\n        } else if (height > width) {\n          this._bounds = L.latLngBounds([ORIGIN, [MAX_NORTHING, MAX_EASTING / this.ratio]]);\n        } else if (width > height) {\n          this._bounds = L.latLngBounds([ORIGIN, [MAX_NORTHING * this.ratio, MAX_EASTING]]);\n        }\n      } else if (projection === EPSG4326) {\n        if (debugLevel >= 1) console.log(`georaster projection is in ${EPSG4326}`);\n        const minLatWest = L.latLng(ymin, xmin);\n        const maxLatEast = L.latLng(ymax, xmax);\n        this._bounds = L.latLngBounds(minLatWest, maxLatEast);\n      } else if (this.getProjector()) {\n        if (debugLevel >= 1) console.log(\"projection is UTM or supported by proj4\");\n        const bottomLeft = this.getProjector().forward({ x: xmin, y: ymin });\n        const minLatWest = L.latLng(bottomLeft.y, bottomLeft.x);\n        const topRight = this.getProjector().forward({ x: xmax, y: ymax });\n        const maxLatEast = L.latLng(topRight.y, topRight.x);\n        this._bounds = L.latLngBounds(minLatWest, maxLatEast);\n      } else {\n        throw `georaster-layer-for-leaflet does not support rasters with the projection ${projection}`;\n      }\n\n      // these values are used so we don't try to sample outside of the raster\n      this.xMinOfLayer = this._bounds.getWest();\n      this.xMaxOfLayer = this._bounds.getEast();\n      this.yMaxOfLayer = this._bounds.getNorth();\n      this.yMinOfLayer = this._bounds.getSouth();\n\n      options.bounds = this._bounds;\n    }\n  },\n\n  getProjector: function () {\n    if (this.isSupportedProjection(this.projection)) {\n      if (!proj4) {\n        throw \"proj4 must be found in the global scope in order to load a raster that uses a UTM projection\";\n      }\n      if (!this._projector) {\n        this._projector = proj4(this.getProjectionString(this.projection), `EPSG:${EPSG4326}`);\n        if (this.debugLevel >= 1) console.log(\"projector set\");\n      }\n      return this._projector;\n    }\n  },\n\n  same(array, key) {\n    return new Set(array.map(item => item[key])).size === 1;\n  }\n});\n\nif (typeof module !== \"undefined\" && typeof module.exports !== \"undefined\") {\n  module.exports = GeoRasterLayer;\n}\nif (typeof window !== \"undefined\") {\n  window[\"GeoRasterLayer\"] = GeoRasterLayer;\n} else if (typeof self !== \"undefined\") {\n  self[\"GeoRasterLayer\"] = GeoRasterLayer; // jshint ignore:line\n}\n\n\n\n// WEBPACK FOOTER //\n// ./georaster-layer-for-leaflet.js","module.exports = function(originalModule) {\r\n\tif(!originalModule.webpackPolyfill) {\r\n\t\tvar module = Object.create(originalModule);\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"exports\", {\r\n\t\t\tenumerable: true,\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// (webpack)/buildin/harmony-module.js","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/regenerator-runtime/runtime.js","\n/**\n * @license\n *\n * chroma.js - JavaScript library for color conversions\n * \n * Copyright (c) 2011-2017, Gregor Aisch\n * All rights reserved.\n * \n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n * \n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer.\n * \n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution.\n * \n * 3. The name Gregor Aisch may not be used to endorse or promote products\n *    derived from this software without specific prior written permission.\n * \n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,\n * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,\n * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY\n * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n */\n\n(function() {\n  var Color, DEG2RAD, LAB_CONSTANTS, PI, PITHIRD, RAD2DEG, TWOPI, _average_lrgb, _guess_formats, _guess_formats_sorted, _input, _interpolators, abs, atan2, bezier, blend, blend_f, brewer, burn, chroma, clip_rgb, cmyk2rgb, colors, cos, css2rgb, darken, dodge, each, floor, hcg2rgb, hex2rgb, hsi2rgb, hsl2css, hsl2rgb, hsv2rgb, interpolate, interpolate_hsx, interpolate_lab, interpolate_lrgb, interpolate_num, interpolate_rgb, lab2lch, lab2rgb, lab_xyz, lch2lab, lch2rgb, lighten, limit, log, luminance_x, m, max, multiply, normal, num2rgb, overlay, pow, rgb2cmyk, rgb2css, rgb2hcg, rgb2hex, rgb2hsi, rgb2hsl, rgb2hsv, rgb2lab, rgb2lch, rgb2luminance, rgb2num, rgb2temperature, rgb2xyz, rgb_xyz, rnd, root, round, screen, sin, sqrt, temperature2rgb, type, unpack, w3cx11, xyz_lab, xyz_rgb,\n    slice = [].slice;\n\n  type = (function() {\n\n    /*\n    for browser-safe type checking+\n    ported from jQuery's $.type\n     */\n    var classToType, len, name, o, ref;\n    classToType = {};\n    ref = \"Boolean Number String Function Array Date RegExp Undefined Null\".split(\" \");\n    for (o = 0, len = ref.length; o < len; o++) {\n      name = ref[o];\n      classToType[\"[object \" + name + \"]\"] = name.toLowerCase();\n    }\n    return function(obj) {\n      var strType;\n      strType = Object.prototype.toString.call(obj);\n      return classToType[strType] || \"object\";\n    };\n  })();\n\n  limit = function(x, min, max) {\n    if (min == null) {\n      min = 0;\n    }\n    if (max == null) {\n      max = 1;\n    }\n    if (x < min) {\n      x = min;\n    }\n    if (x > max) {\n      x = max;\n    }\n    return x;\n  };\n\n  unpack = function(args) {\n    if (args.length >= 3) {\n      return Array.prototype.slice.call(args);\n    } else {\n      return args[0];\n    }\n  };\n\n  clip_rgb = function(rgb) {\n    var i, o;\n    rgb._clipped = false;\n    rgb._unclipped = rgb.slice(0);\n    for (i = o = 0; o < 3; i = ++o) {\n      if (i < 3) {\n        if (rgb[i] < 0 || rgb[i] > 255) {\n          rgb._clipped = true;\n        }\n        if (rgb[i] < 0) {\n          rgb[i] = 0;\n        }\n        if (rgb[i] > 255) {\n          rgb[i] = 255;\n        }\n      } else if (i === 3) {\n        if (rgb[i] < 0) {\n          rgb[i] = 0;\n        }\n        if (rgb[i] > 1) {\n          rgb[i] = 1;\n        }\n      }\n    }\n    if (!rgb._clipped) {\n      delete rgb._unclipped;\n    }\n    return rgb;\n  };\n\n  PI = Math.PI, round = Math.round, cos = Math.cos, floor = Math.floor, pow = Math.pow, log = Math.log, sin = Math.sin, sqrt = Math.sqrt, atan2 = Math.atan2, max = Math.max, abs = Math.abs;\n\n  TWOPI = PI * 2;\n\n  PITHIRD = PI / 3;\n\n  DEG2RAD = PI / 180;\n\n  RAD2DEG = 180 / PI;\n\n  chroma = function() {\n    if (arguments[0] instanceof Color) {\n      return arguments[0];\n    }\n    return (function(func, args, ctor) {\n      ctor.prototype = func.prototype;\n      var child = new ctor, result = func.apply(child, args);\n      return Object(result) === result ? result : child;\n    })(Color, arguments, function(){});\n  };\n\n  chroma[\"default\"] = chroma;\n\n  _interpolators = [];\n\n  if ((typeof module !== \"undefined\" && module !== null) && (module.exports != null)) {\n    module.exports = chroma;\n  }\n\n  if (typeof define === 'function' && define.amd) {\n    define([], function() {\n      return chroma;\n    });\n  } else {\n    root = typeof exports !== \"undefined\" && exports !== null ? exports : this;\n    root.chroma = chroma;\n  }\n\n  chroma.version = '1.4.1';\n\n  _input = {};\n\n  _guess_formats = [];\n\n  _guess_formats_sorted = false;\n\n  Color = (function() {\n    function Color() {\n      var arg, args, chk, len, len1, me, mode, o, w;\n      me = this;\n      args = [];\n      for (o = 0, len = arguments.length; o < len; o++) {\n        arg = arguments[o];\n        if (arg != null) {\n          args.push(arg);\n        }\n      }\n      if (args.length > 1) {\n        mode = args[args.length - 1];\n      }\n      if (_input[mode] != null) {\n        me._rgb = clip_rgb(_input[mode](unpack(args.slice(0, -1))));\n      } else {\n        if (!_guess_formats_sorted) {\n          _guess_formats = _guess_formats.sort(function(a, b) {\n            return b.p - a.p;\n          });\n          _guess_formats_sorted = true;\n        }\n        for (w = 0, len1 = _guess_formats.length; w < len1; w++) {\n          chk = _guess_formats[w];\n          mode = chk.test.apply(chk, args);\n          if (mode) {\n            break;\n          }\n        }\n        if (mode) {\n          me._rgb = clip_rgb(_input[mode].apply(_input, args));\n        }\n      }\n      if (me._rgb == null) {\n        console.warn('unknown format: ' + args);\n      }\n      if (me._rgb == null) {\n        me._rgb = [0, 0, 0];\n      }\n      if (me._rgb.length === 3) {\n        me._rgb.push(1);\n      }\n    }\n\n    Color.prototype.toString = function() {\n      return this.hex();\n    };\n\n    return Color;\n\n  })();\n\n  chroma._input = _input;\n\n\n  /**\n  \tColorBrewer colors for chroma.js\n  \n  \tCopyright (c) 2002 Cynthia Brewer, Mark Harrower, and The \n  \tPennsylvania State University.\n  \n  \tLicensed under the Apache License, Version 2.0 (the \"License\"); \n  \tyou may not use this file except in compliance with the License.\n  \tYou may obtain a copy of the License at\t\n  \thttp://www.apache.org/licenses/LICENSE-2.0\n  \n  \tUnless required by applicable law or agreed to in writing, software distributed\n  \tunder the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n  \tCONDITIONS OF ANY KIND, either express or implied. See the License for the\n  \tspecific language governing permissions and limitations under the License.\n  \n      @preserve\n   */\n\n  chroma.brewer = brewer = {\n    OrRd: ['#fff7ec', '#fee8c8', '#fdd49e', '#fdbb84', '#fc8d59', '#ef6548', '#d7301f', '#b30000', '#7f0000'],\n    PuBu: ['#fff7fb', '#ece7f2', '#d0d1e6', '#a6bddb', '#74a9cf', '#3690c0', '#0570b0', '#045a8d', '#023858'],\n    BuPu: ['#f7fcfd', '#e0ecf4', '#bfd3e6', '#9ebcda', '#8c96c6', '#8c6bb1', '#88419d', '#810f7c', '#4d004b'],\n    Oranges: ['#fff5eb', '#fee6ce', '#fdd0a2', '#fdae6b', '#fd8d3c', '#f16913', '#d94801', '#a63603', '#7f2704'],\n    BuGn: ['#f7fcfd', '#e5f5f9', '#ccece6', '#99d8c9', '#66c2a4', '#41ae76', '#238b45', '#006d2c', '#00441b'],\n    YlOrBr: ['#ffffe5', '#fff7bc', '#fee391', '#fec44f', '#fe9929', '#ec7014', '#cc4c02', '#993404', '#662506'],\n    YlGn: ['#ffffe5', '#f7fcb9', '#d9f0a3', '#addd8e', '#78c679', '#41ab5d', '#238443', '#006837', '#004529'],\n    Reds: ['#fff5f0', '#fee0d2', '#fcbba1', '#fc9272', '#fb6a4a', '#ef3b2c', '#cb181d', '#a50f15', '#67000d'],\n    RdPu: ['#fff7f3', '#fde0dd', '#fcc5c0', '#fa9fb5', '#f768a1', '#dd3497', '#ae017e', '#7a0177', '#49006a'],\n    Greens: ['#f7fcf5', '#e5f5e0', '#c7e9c0', '#a1d99b', '#74c476', '#41ab5d', '#238b45', '#006d2c', '#00441b'],\n    YlGnBu: ['#ffffd9', '#edf8b1', '#c7e9b4', '#7fcdbb', '#41b6c4', '#1d91c0', '#225ea8', '#253494', '#081d58'],\n    Purples: ['#fcfbfd', '#efedf5', '#dadaeb', '#bcbddc', '#9e9ac8', '#807dba', '#6a51a3', '#54278f', '#3f007d'],\n    GnBu: ['#f7fcf0', '#e0f3db', '#ccebc5', '#a8ddb5', '#7bccc4', '#4eb3d3', '#2b8cbe', '#0868ac', '#084081'],\n    Greys: ['#ffffff', '#f0f0f0', '#d9d9d9', '#bdbdbd', '#969696', '#737373', '#525252', '#252525', '#000000'],\n    YlOrRd: ['#ffffcc', '#ffeda0', '#fed976', '#feb24c', '#fd8d3c', '#fc4e2a', '#e31a1c', '#bd0026', '#800026'],\n    PuRd: ['#f7f4f9', '#e7e1ef', '#d4b9da', '#c994c7', '#df65b0', '#e7298a', '#ce1256', '#980043', '#67001f'],\n    Blues: ['#f7fbff', '#deebf7', '#c6dbef', '#9ecae1', '#6baed6', '#4292c6', '#2171b5', '#08519c', '#08306b'],\n    PuBuGn: ['#fff7fb', '#ece2f0', '#d0d1e6', '#a6bddb', '#67a9cf', '#3690c0', '#02818a', '#016c59', '#014636'],\n    Viridis: ['#440154', '#482777', '#3f4a8a', '#31678e', '#26838f', '#1f9d8a', '#6cce5a', '#b6de2b', '#fee825'],\n    Spectral: ['#9e0142', '#d53e4f', '#f46d43', '#fdae61', '#fee08b', '#ffffbf', '#e6f598', '#abdda4', '#66c2a5', '#3288bd', '#5e4fa2'],\n    RdYlGn: ['#a50026', '#d73027', '#f46d43', '#fdae61', '#fee08b', '#ffffbf', '#d9ef8b', '#a6d96a', '#66bd63', '#1a9850', '#006837'],\n    RdBu: ['#67001f', '#b2182b', '#d6604d', '#f4a582', '#fddbc7', '#f7f7f7', '#d1e5f0', '#92c5de', '#4393c3', '#2166ac', '#053061'],\n    PiYG: ['#8e0152', '#c51b7d', '#de77ae', '#f1b6da', '#fde0ef', '#f7f7f7', '#e6f5d0', '#b8e186', '#7fbc41', '#4d9221', '#276419'],\n    PRGn: ['#40004b', '#762a83', '#9970ab', '#c2a5cf', '#e7d4e8', '#f7f7f7', '#d9f0d3', '#a6dba0', '#5aae61', '#1b7837', '#00441b'],\n    RdYlBu: ['#a50026', '#d73027', '#f46d43', '#fdae61', '#fee090', '#ffffbf', '#e0f3f8', '#abd9e9', '#74add1', '#4575b4', '#313695'],\n    BrBG: ['#543005', '#8c510a', '#bf812d', '#dfc27d', '#f6e8c3', '#f5f5f5', '#c7eae5', '#80cdc1', '#35978f', '#01665e', '#003c30'],\n    RdGy: ['#67001f', '#b2182b', '#d6604d', '#f4a582', '#fddbc7', '#ffffff', '#e0e0e0', '#bababa', '#878787', '#4d4d4d', '#1a1a1a'],\n    PuOr: ['#7f3b08', '#b35806', '#e08214', '#fdb863', '#fee0b6', '#f7f7f7', '#d8daeb', '#b2abd2', '#8073ac', '#542788', '#2d004b'],\n    Set2: ['#66c2a5', '#fc8d62', '#8da0cb', '#e78ac3', '#a6d854', '#ffd92f', '#e5c494', '#b3b3b3'],\n    Accent: ['#7fc97f', '#beaed4', '#fdc086', '#ffff99', '#386cb0', '#f0027f', '#bf5b17', '#666666'],\n    Set1: ['#e41a1c', '#377eb8', '#4daf4a', '#984ea3', '#ff7f00', '#ffff33', '#a65628', '#f781bf', '#999999'],\n    Set3: ['#8dd3c7', '#ffffb3', '#bebada', '#fb8072', '#80b1d3', '#fdb462', '#b3de69', '#fccde5', '#d9d9d9', '#bc80bd', '#ccebc5', '#ffed6f'],\n    Dark2: ['#1b9e77', '#d95f02', '#7570b3', '#e7298a', '#66a61e', '#e6ab02', '#a6761d', '#666666'],\n    Paired: ['#a6cee3', '#1f78b4', '#b2df8a', '#33a02c', '#fb9a99', '#e31a1c', '#fdbf6f', '#ff7f00', '#cab2d6', '#6a3d9a', '#ffff99', '#b15928'],\n    Pastel2: ['#b3e2cd', '#fdcdac', '#cbd5e8', '#f4cae4', '#e6f5c9', '#fff2ae', '#f1e2cc', '#cccccc'],\n    Pastel1: ['#fbb4ae', '#b3cde3', '#ccebc5', '#decbe4', '#fed9a6', '#ffffcc', '#e5d8bd', '#fddaec', '#f2f2f2']\n  };\n\n  (function() {\n    var key, results;\n    results = [];\n    for (key in brewer) {\n      results.push(brewer[key.toLowerCase()] = brewer[key]);\n    }\n    return results;\n  })();\n\n\n  /**\n  \tX11 color names\n  \n  \thttp://www.w3.org/TR/css3-color/#svg-color\n   */\n\n  w3cx11 = {\n    aliceblue: '#f0f8ff',\n    antiquewhite: '#faebd7',\n    aqua: '#00ffff',\n    aquamarine: '#7fffd4',\n    azure: '#f0ffff',\n    beige: '#f5f5dc',\n    bisque: '#ffe4c4',\n    black: '#000000',\n    blanchedalmond: '#ffebcd',\n    blue: '#0000ff',\n    blueviolet: '#8a2be2',\n    brown: '#a52a2a',\n    burlywood: '#deb887',\n    cadetblue: '#5f9ea0',\n    chartreuse: '#7fff00',\n    chocolate: '#d2691e',\n    coral: '#ff7f50',\n    cornflower: '#6495ed',\n    cornflowerblue: '#6495ed',\n    cornsilk: '#fff8dc',\n    crimson: '#dc143c',\n    cyan: '#00ffff',\n    darkblue: '#00008b',\n    darkcyan: '#008b8b',\n    darkgoldenrod: '#b8860b',\n    darkgray: '#a9a9a9',\n    darkgreen: '#006400',\n    darkgrey: '#a9a9a9',\n    darkkhaki: '#bdb76b',\n    darkmagenta: '#8b008b',\n    darkolivegreen: '#556b2f',\n    darkorange: '#ff8c00',\n    darkorchid: '#9932cc',\n    darkred: '#8b0000',\n    darksalmon: '#e9967a',\n    darkseagreen: '#8fbc8f',\n    darkslateblue: '#483d8b',\n    darkslategray: '#2f4f4f',\n    darkslategrey: '#2f4f4f',\n    darkturquoise: '#00ced1',\n    darkviolet: '#9400d3',\n    deeppink: '#ff1493',\n    deepskyblue: '#00bfff',\n    dimgray: '#696969',\n    dimgrey: '#696969',\n    dodgerblue: '#1e90ff',\n    firebrick: '#b22222',\n    floralwhite: '#fffaf0',\n    forestgreen: '#228b22',\n    fuchsia: '#ff00ff',\n    gainsboro: '#dcdcdc',\n    ghostwhite: '#f8f8ff',\n    gold: '#ffd700',\n    goldenrod: '#daa520',\n    gray: '#808080',\n    green: '#008000',\n    greenyellow: '#adff2f',\n    grey: '#808080',\n    honeydew: '#f0fff0',\n    hotpink: '#ff69b4',\n    indianred: '#cd5c5c',\n    indigo: '#4b0082',\n    ivory: '#fffff0',\n    khaki: '#f0e68c',\n    laserlemon: '#ffff54',\n    lavender: '#e6e6fa',\n    lavenderblush: '#fff0f5',\n    lawngreen: '#7cfc00',\n    lemonchiffon: '#fffacd',\n    lightblue: '#add8e6',\n    lightcoral: '#f08080',\n    lightcyan: '#e0ffff',\n    lightgoldenrod: '#fafad2',\n    lightgoldenrodyellow: '#fafad2',\n    lightgray: '#d3d3d3',\n    lightgreen: '#90ee90',\n    lightgrey: '#d3d3d3',\n    lightpink: '#ffb6c1',\n    lightsalmon: '#ffa07a',\n    lightseagreen: '#20b2aa',\n    lightskyblue: '#87cefa',\n    lightslategray: '#778899',\n    lightslategrey: '#778899',\n    lightsteelblue: '#b0c4de',\n    lightyellow: '#ffffe0',\n    lime: '#00ff00',\n    limegreen: '#32cd32',\n    linen: '#faf0e6',\n    magenta: '#ff00ff',\n    maroon: '#800000',\n    maroon2: '#7f0000',\n    maroon3: '#b03060',\n    mediumaquamarine: '#66cdaa',\n    mediumblue: '#0000cd',\n    mediumorchid: '#ba55d3',\n    mediumpurple: '#9370db',\n    mediumseagreen: '#3cb371',\n    mediumslateblue: '#7b68ee',\n    mediumspringgreen: '#00fa9a',\n    mediumturquoise: '#48d1cc',\n    mediumvioletred: '#c71585',\n    midnightblue: '#191970',\n    mintcream: '#f5fffa',\n    mistyrose: '#ffe4e1',\n    moccasin: '#ffe4b5',\n    navajowhite: '#ffdead',\n    navy: '#000080',\n    oldlace: '#fdf5e6',\n    olive: '#808000',\n    olivedrab: '#6b8e23',\n    orange: '#ffa500',\n    orangered: '#ff4500',\n    orchid: '#da70d6',\n    palegoldenrod: '#eee8aa',\n    palegreen: '#98fb98',\n    paleturquoise: '#afeeee',\n    palevioletred: '#db7093',\n    papayawhip: '#ffefd5',\n    peachpuff: '#ffdab9',\n    peru: '#cd853f',\n    pink: '#ffc0cb',\n    plum: '#dda0dd',\n    powderblue: '#b0e0e6',\n    purple: '#800080',\n    purple2: '#7f007f',\n    purple3: '#a020f0',\n    rebeccapurple: '#663399',\n    red: '#ff0000',\n    rosybrown: '#bc8f8f',\n    royalblue: '#4169e1',\n    saddlebrown: '#8b4513',\n    salmon: '#fa8072',\n    sandybrown: '#f4a460',\n    seagreen: '#2e8b57',\n    seashell: '#fff5ee',\n    sienna: '#a0522d',\n    silver: '#c0c0c0',\n    skyblue: '#87ceeb',\n    slateblue: '#6a5acd',\n    slategray: '#708090',\n    slategrey: '#708090',\n    snow: '#fffafa',\n    springgreen: '#00ff7f',\n    steelblue: '#4682b4',\n    tan: '#d2b48c',\n    teal: '#008080',\n    thistle: '#d8bfd8',\n    tomato: '#ff6347',\n    turquoise: '#40e0d0',\n    violet: '#ee82ee',\n    wheat: '#f5deb3',\n    white: '#ffffff',\n    whitesmoke: '#f5f5f5',\n    yellow: '#ffff00',\n    yellowgreen: '#9acd32'\n  };\n\n  chroma.colors = colors = w3cx11;\n\n  lab2rgb = function() {\n    var a, args, b, g, l, r, x, y, z;\n    args = unpack(arguments);\n    l = args[0], a = args[1], b = args[2];\n    y = (l + 16) / 116;\n    x = isNaN(a) ? y : y + a / 500;\n    z = isNaN(b) ? y : y - b / 200;\n    y = LAB_CONSTANTS.Yn * lab_xyz(y);\n    x = LAB_CONSTANTS.Xn * lab_xyz(x);\n    z = LAB_CONSTANTS.Zn * lab_xyz(z);\n    r = xyz_rgb(3.2404542 * x - 1.5371385 * y - 0.4985314 * z);\n    g = xyz_rgb(-0.9692660 * x + 1.8760108 * y + 0.0415560 * z);\n    b = xyz_rgb(0.0556434 * x - 0.2040259 * y + 1.0572252 * z);\n    return [r, g, b, args.length > 3 ? args[3] : 1];\n  };\n\n  xyz_rgb = function(r) {\n    return 255 * (r <= 0.00304 ? 12.92 * r : 1.055 * pow(r, 1 / 2.4) - 0.055);\n  };\n\n  lab_xyz = function(t) {\n    if (t > LAB_CONSTANTS.t1) {\n      return t * t * t;\n    } else {\n      return LAB_CONSTANTS.t2 * (t - LAB_CONSTANTS.t0);\n    }\n  };\n\n  LAB_CONSTANTS = {\n    Kn: 18,\n    Xn: 0.950470,\n    Yn: 1,\n    Zn: 1.088830,\n    t0: 0.137931034,\n    t1: 0.206896552,\n    t2: 0.12841855,\n    t3: 0.008856452\n  };\n\n  rgb2lab = function() {\n    var b, g, r, ref, ref1, x, y, z;\n    ref = unpack(arguments), r = ref[0], g = ref[1], b = ref[2];\n    ref1 = rgb2xyz(r, g, b), x = ref1[0], y = ref1[1], z = ref1[2];\n    return [116 * y - 16, 500 * (x - y), 200 * (y - z)];\n  };\n\n  rgb_xyz = function(r) {\n    if ((r /= 255) <= 0.04045) {\n      return r / 12.92;\n    } else {\n      return pow((r + 0.055) / 1.055, 2.4);\n    }\n  };\n\n  xyz_lab = function(t) {\n    if (t > LAB_CONSTANTS.t3) {\n      return pow(t, 1 / 3);\n    } else {\n      return t / LAB_CONSTANTS.t2 + LAB_CONSTANTS.t0;\n    }\n  };\n\n  rgb2xyz = function() {\n    var b, g, r, ref, x, y, z;\n    ref = unpack(arguments), r = ref[0], g = ref[1], b = ref[2];\n    r = rgb_xyz(r);\n    g = rgb_xyz(g);\n    b = rgb_xyz(b);\n    x = xyz_lab((0.4124564 * r + 0.3575761 * g + 0.1804375 * b) / LAB_CONSTANTS.Xn);\n    y = xyz_lab((0.2126729 * r + 0.7151522 * g + 0.0721750 * b) / LAB_CONSTANTS.Yn);\n    z = xyz_lab((0.0193339 * r + 0.1191920 * g + 0.9503041 * b) / LAB_CONSTANTS.Zn);\n    return [x, y, z];\n  };\n\n  chroma.lab = function() {\n    return (function(func, args, ctor) {\n      ctor.prototype = func.prototype;\n      var child = new ctor, result = func.apply(child, args);\n      return Object(result) === result ? result : child;\n    })(Color, slice.call(arguments).concat(['lab']), function(){});\n  };\n\n  _input.lab = lab2rgb;\n\n  Color.prototype.lab = function() {\n    return rgb2lab(this._rgb);\n  };\n\n  bezier = function(colors) {\n    var I, I0, I1, c, lab0, lab1, lab2, lab3, ref, ref1, ref2;\n    colors = (function() {\n      var len, o, results;\n      results = [];\n      for (o = 0, len = colors.length; o < len; o++) {\n        c = colors[o];\n        results.push(chroma(c));\n      }\n      return results;\n    })();\n    if (colors.length === 2) {\n      ref = (function() {\n        var len, o, results;\n        results = [];\n        for (o = 0, len = colors.length; o < len; o++) {\n          c = colors[o];\n          results.push(c.lab());\n        }\n        return results;\n      })(), lab0 = ref[0], lab1 = ref[1];\n      I = function(t) {\n        var i, lab;\n        lab = (function() {\n          var o, results;\n          results = [];\n          for (i = o = 0; o <= 2; i = ++o) {\n            results.push(lab0[i] + t * (lab1[i] - lab0[i]));\n          }\n          return results;\n        })();\n        return chroma.lab.apply(chroma, lab);\n      };\n    } else if (colors.length === 3) {\n      ref1 = (function() {\n        var len, o, results;\n        results = [];\n        for (o = 0, len = colors.length; o < len; o++) {\n          c = colors[o];\n          results.push(c.lab());\n        }\n        return results;\n      })(), lab0 = ref1[0], lab1 = ref1[1], lab2 = ref1[2];\n      I = function(t) {\n        var i, lab;\n        lab = (function() {\n          var o, results;\n          results = [];\n          for (i = o = 0; o <= 2; i = ++o) {\n            results.push((1 - t) * (1 - t) * lab0[i] + 2 * (1 - t) * t * lab1[i] + t * t * lab2[i]);\n          }\n          return results;\n        })();\n        return chroma.lab.apply(chroma, lab);\n      };\n    } else if (colors.length === 4) {\n      ref2 = (function() {\n        var len, o, results;\n        results = [];\n        for (o = 0, len = colors.length; o < len; o++) {\n          c = colors[o];\n          results.push(c.lab());\n        }\n        return results;\n      })(), lab0 = ref2[0], lab1 = ref2[1], lab2 = ref2[2], lab3 = ref2[3];\n      I = function(t) {\n        var i, lab;\n        lab = (function() {\n          var o, results;\n          results = [];\n          for (i = o = 0; o <= 2; i = ++o) {\n            results.push((1 - t) * (1 - t) * (1 - t) * lab0[i] + 3 * (1 - t) * (1 - t) * t * lab1[i] + 3 * (1 - t) * t * t * lab2[i] + t * t * t * lab3[i]);\n          }\n          return results;\n        })();\n        return chroma.lab.apply(chroma, lab);\n      };\n    } else if (colors.length === 5) {\n      I0 = bezier(colors.slice(0, 3));\n      I1 = bezier(colors.slice(2, 5));\n      I = function(t) {\n        if (t < 0.5) {\n          return I0(t * 2);\n        } else {\n          return I1((t - 0.5) * 2);\n        }\n      };\n    }\n    return I;\n  };\n\n  chroma.bezier = function(colors) {\n    var f;\n    f = bezier(colors);\n    f.scale = function() {\n      return chroma.scale(f);\n    };\n    return f;\n  };\n\n  chroma.cubehelix = function(start, rotations, hue, gamma, lightness) {\n    var dh, dl, f;\n    if (start == null) {\n      start = 300;\n    }\n    if (rotations == null) {\n      rotations = -1.5;\n    }\n    if (hue == null) {\n      hue = 1;\n    }\n    if (gamma == null) {\n      gamma = 1;\n    }\n    if (lightness == null) {\n      lightness = [0, 1];\n    }\n    dh = 0;\n    if (type(lightness) === 'array') {\n      dl = lightness[1] - lightness[0];\n    } else {\n      dl = 0;\n      lightness = [lightness, lightness];\n    }\n    f = function(fract) {\n      var a, amp, b, cos_a, g, h, l, r, sin_a;\n      a = TWOPI * ((start + 120) / 360 + rotations * fract);\n      l = pow(lightness[0] + dl * fract, gamma);\n      h = dh !== 0 ? hue[0] + fract * dh : hue;\n      amp = h * l * (1 - l) / 2;\n      cos_a = cos(a);\n      sin_a = sin(a);\n      r = l + amp * (-0.14861 * cos_a + 1.78277 * sin_a);\n      g = l + amp * (-0.29227 * cos_a - 0.90649 * sin_a);\n      b = l + amp * (+1.97294 * cos_a);\n      return chroma(clip_rgb([r * 255, g * 255, b * 255, 1]));\n    };\n    f.start = function(s) {\n      if (s == null) {\n        return start;\n      }\n      start = s;\n      return f;\n    };\n    f.rotations = function(r) {\n      if (r == null) {\n        return rotations;\n      }\n      rotations = r;\n      return f;\n    };\n    f.gamma = function(g) {\n      if (g == null) {\n        return gamma;\n      }\n      gamma = g;\n      return f;\n    };\n    f.hue = function(h) {\n      if (h == null) {\n        return hue;\n      }\n      hue = h;\n      if (type(hue) === 'array') {\n        dh = hue[1] - hue[0];\n        if (dh === 0) {\n          hue = hue[1];\n        }\n      } else {\n        dh = 0;\n      }\n      return f;\n    };\n    f.lightness = function(h) {\n      if (h == null) {\n        return lightness;\n      }\n      if (type(h) === 'array') {\n        lightness = h;\n        dl = h[1] - h[0];\n      } else {\n        lightness = [h, h];\n        dl = 0;\n      }\n      return f;\n    };\n    f.scale = function() {\n      return chroma.scale(f);\n    };\n    f.hue(hue);\n    return f;\n  };\n\n  chroma.random = function() {\n    var code, digits, i, o;\n    digits = '0123456789abcdef';\n    code = '#';\n    for (i = o = 0; o < 6; i = ++o) {\n      code += digits.charAt(floor(Math.random() * 16));\n    }\n    return new Color(code);\n  };\n\n  _interpolators = [];\n\n  interpolate = function(col1, col2, f, m) {\n    var interpol, len, o, res;\n    if (f == null) {\n      f = 0.5;\n    }\n    if (m == null) {\n      m = 'rgb';\n    }\n\n    /*\n    interpolates between colors\n    f = 0 --> me\n    f = 1 --> col\n     */\n    if (type(col1) !== 'object') {\n      col1 = chroma(col1);\n    }\n    if (type(col2) !== 'object') {\n      col2 = chroma(col2);\n    }\n    for (o = 0, len = _interpolators.length; o < len; o++) {\n      interpol = _interpolators[o];\n      if (m === interpol[0]) {\n        res = interpol[1](col1, col2, f, m);\n        break;\n      }\n    }\n    if (res == null) {\n      throw \"color mode \" + m + \" is not supported\";\n    }\n    return res.alpha(col1.alpha() + f * (col2.alpha() - col1.alpha()));\n  };\n\n  chroma.interpolate = interpolate;\n\n  Color.prototype.interpolate = function(col2, f, m) {\n    return interpolate(this, col2, f, m);\n  };\n\n  chroma.mix = interpolate;\n\n  Color.prototype.mix = Color.prototype.interpolate;\n\n  _input.rgb = function() {\n    var k, ref, results, v;\n    ref = unpack(arguments);\n    results = [];\n    for (k in ref) {\n      v = ref[k];\n      results.push(v);\n    }\n    return results;\n  };\n\n  chroma.rgb = function() {\n    return (function(func, args, ctor) {\n      ctor.prototype = func.prototype;\n      var child = new ctor, result = func.apply(child, args);\n      return Object(result) === result ? result : child;\n    })(Color, slice.call(arguments).concat(['rgb']), function(){});\n  };\n\n  Color.prototype.rgb = function(round) {\n    if (round == null) {\n      round = true;\n    }\n    if (round) {\n      return this._rgb.map(Math.round).slice(0, 3);\n    } else {\n      return this._rgb.slice(0, 3);\n    }\n  };\n\n  Color.prototype.rgba = function(round) {\n    if (round == null) {\n      round = true;\n    }\n    if (!round) {\n      return this._rgb.slice(0);\n    }\n    return [Math.round(this._rgb[0]), Math.round(this._rgb[1]), Math.round(this._rgb[2]), this._rgb[3]];\n  };\n\n  _guess_formats.push({\n    p: 3,\n    test: function(n) {\n      var a;\n      a = unpack(arguments);\n      if (type(a) === 'array' && a.length === 3) {\n        return 'rgb';\n      }\n      if (a.length === 4 && type(a[3]) === \"number\" && a[3] >= 0 && a[3] <= 1) {\n        return 'rgb';\n      }\n    }\n  });\n\n  _input.lrgb = _input.rgb;\n\n  interpolate_lrgb = function(col1, col2, f, m) {\n    var xyz0, xyz1;\n    xyz0 = col1._rgb;\n    xyz1 = col2._rgb;\n    return new Color(sqrt(pow(xyz0[0], 2) * (1 - f) + pow(xyz1[0], 2) * f), sqrt(pow(xyz0[1], 2) * (1 - f) + pow(xyz1[1], 2) * f), sqrt(pow(xyz0[2], 2) * (1 - f) + pow(xyz1[2], 2) * f), m);\n  };\n\n  _average_lrgb = function(colors) {\n    var col, f, len, o, rgb, xyz;\n    f = 1 / colors.length;\n    xyz = [0, 0, 0, 0];\n    for (o = 0, len = colors.length; o < len; o++) {\n      col = colors[o];\n      rgb = col._rgb;\n      xyz[0] += pow(rgb[0], 2) * f;\n      xyz[1] += pow(rgb[1], 2) * f;\n      xyz[2] += pow(rgb[2], 2) * f;\n      xyz[3] += rgb[3] * f;\n    }\n    xyz[0] = sqrt(xyz[0]);\n    xyz[1] = sqrt(xyz[1]);\n    xyz[2] = sqrt(xyz[2]);\n    if (xyz[3] > 1) {\n      xyz[3] = 1;\n    }\n    return new Color(clip_rgb(xyz));\n  };\n\n  _interpolators.push(['lrgb', interpolate_lrgb]);\n\n  chroma.average = function(colors, mode) {\n    var A, alpha, c, cnt, dx, dy, first, i, l, len, o, xyz, xyz2;\n    if (mode == null) {\n      mode = 'rgb';\n    }\n    l = colors.length;\n    colors = colors.map(function(c) {\n      return chroma(c);\n    });\n    first = colors.splice(0, 1)[0];\n    if (mode === 'lrgb') {\n      return _average_lrgb(colors);\n    }\n    xyz = first.get(mode);\n    cnt = [];\n    dx = 0;\n    dy = 0;\n    for (i in xyz) {\n      xyz[i] = xyz[i] || 0;\n      cnt.push(isNaN(xyz[i]) ? 0 : 1);\n      if (mode.charAt(i) === 'h' && !isNaN(xyz[i])) {\n        A = xyz[i] / 180 * PI;\n        dx += cos(A);\n        dy += sin(A);\n      }\n    }\n    alpha = first.alpha();\n    for (o = 0, len = colors.length; o < len; o++) {\n      c = colors[o];\n      xyz2 = c.get(mode);\n      alpha += c.alpha();\n      for (i in xyz) {\n        if (!isNaN(xyz2[i])) {\n          cnt[i] += 1;\n          if (mode.charAt(i) === 'h') {\n            A = xyz2[i] / 180 * PI;\n            dx += cos(A);\n            dy += sin(A);\n          } else {\n            xyz[i] += xyz2[i];\n          }\n        }\n      }\n    }\n    for (i in xyz) {\n      if (mode.charAt(i) === 'h') {\n        A = atan2(dy / cnt[i], dx / cnt[i]) / PI * 180;\n        while (A < 0) {\n          A += 360;\n        }\n        while (A >= 360) {\n          A -= 360;\n        }\n        xyz[i] = A;\n      } else {\n        xyz[i] = xyz[i] / cnt[i];\n      }\n    }\n    return chroma(xyz, mode).alpha(alpha / l);\n  };\n\n  hex2rgb = function(hex) {\n    var a, b, g, r, rgb, u;\n    if (hex.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/)) {\n      if (hex.length === 4 || hex.length === 7) {\n        hex = hex.substr(1);\n      }\n      if (hex.length === 3) {\n        hex = hex.split(\"\");\n        hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];\n      }\n      u = parseInt(hex, 16);\n      r = u >> 16;\n      g = u >> 8 & 0xFF;\n      b = u & 0xFF;\n      return [r, g, b, 1];\n    }\n    if (hex.match(/^#?([A-Fa-f0-9]{8})$/)) {\n      if (hex.length === 9) {\n        hex = hex.substr(1);\n      }\n      u = parseInt(hex, 16);\n      r = u >> 24 & 0xFF;\n      g = u >> 16 & 0xFF;\n      b = u >> 8 & 0xFF;\n      a = round((u & 0xFF) / 0xFF * 100) / 100;\n      return [r, g, b, a];\n    }\n    if ((_input.css != null) && (rgb = _input.css(hex))) {\n      return rgb;\n    }\n    throw \"unknown color: \" + hex;\n  };\n\n  rgb2hex = function(channels, mode) {\n    var a, b, g, hxa, r, str, u;\n    if (mode == null) {\n      mode = 'auto';\n    }\n    r = channels[0], g = channels[1], b = channels[2], a = channels[3];\n    if (mode === 'auto') {\n      mode = a < 1 ? 'rgba' : 'rgb';\n    }\n    r = Math.round(r);\n    g = Math.round(g);\n    b = Math.round(b);\n    u = r << 16 | g << 8 | b;\n    str = \"000000\" + u.toString(16);\n    str = str.substr(str.length - 6);\n    hxa = '0' + round(a * 255).toString(16);\n    hxa = hxa.substr(hxa.length - 2);\n    return \"#\" + (function() {\n      switch (mode.toLowerCase()) {\n        case 'rgba':\n          return str + hxa;\n        case 'argb':\n          return hxa + str;\n        default:\n          return str;\n      }\n    })();\n  };\n\n  _input.hex = function(h) {\n    return hex2rgb(h);\n  };\n\n  chroma.hex = function() {\n    return (function(func, args, ctor) {\n      ctor.prototype = func.prototype;\n      var child = new ctor, result = func.apply(child, args);\n      return Object(result) === result ? result : child;\n    })(Color, slice.call(arguments).concat(['hex']), function(){});\n  };\n\n  Color.prototype.hex = function(mode) {\n    if (mode == null) {\n      mode = 'auto';\n    }\n    return rgb2hex(this._rgb, mode);\n  };\n\n  _guess_formats.push({\n    p: 4,\n    test: function(n) {\n      if (arguments.length === 1 && type(n) === \"string\") {\n        return 'hex';\n      }\n    }\n  });\n\n  hsl2rgb = function() {\n    var args, b, c, g, h, i, l, o, r, ref, s, t1, t2, t3;\n    args = unpack(arguments);\n    h = args[0], s = args[1], l = args[2];\n    if (s === 0) {\n      r = g = b = l * 255;\n    } else {\n      t3 = [0, 0, 0];\n      c = [0, 0, 0];\n      t2 = l < 0.5 ? l * (1 + s) : l + s - l * s;\n      t1 = 2 * l - t2;\n      h /= 360;\n      t3[0] = h + 1 / 3;\n      t3[1] = h;\n      t3[2] = h - 1 / 3;\n      for (i = o = 0; o <= 2; i = ++o) {\n        if (t3[i] < 0) {\n          t3[i] += 1;\n        }\n        if (t3[i] > 1) {\n          t3[i] -= 1;\n        }\n        if (6 * t3[i] < 1) {\n          c[i] = t1 + (t2 - t1) * 6 * t3[i];\n        } else if (2 * t3[i] < 1) {\n          c[i] = t2;\n        } else if (3 * t3[i] < 2) {\n          c[i] = t1 + (t2 - t1) * ((2 / 3) - t3[i]) * 6;\n        } else {\n          c[i] = t1;\n        }\n      }\n      ref = [round(c[0] * 255), round(c[1] * 255), round(c[2] * 255)], r = ref[0], g = ref[1], b = ref[2];\n    }\n    if (args.length > 3) {\n      return [r, g, b, args[3]];\n    } else {\n      return [r, g, b];\n    }\n  };\n\n  rgb2hsl = function(r, g, b) {\n    var h, l, min, ref, s;\n    if (r !== void 0 && r.length >= 3) {\n      ref = r, r = ref[0], g = ref[1], b = ref[2];\n    }\n    r /= 255;\n    g /= 255;\n    b /= 255;\n    min = Math.min(r, g, b);\n    max = Math.max(r, g, b);\n    l = (max + min) / 2;\n    if (max === min) {\n      s = 0;\n      h = Number.NaN;\n    } else {\n      s = l < 0.5 ? (max - min) / (max + min) : (max - min) / (2 - max - min);\n    }\n    if (r === max) {\n      h = (g - b) / (max - min);\n    } else if (g === max) {\n      h = 2 + (b - r) / (max - min);\n    } else if (b === max) {\n      h = 4 + (r - g) / (max - min);\n    }\n    h *= 60;\n    if (h < 0) {\n      h += 360;\n    }\n    return [h, s, l];\n  };\n\n  chroma.hsl = function() {\n    return (function(func, args, ctor) {\n      ctor.prototype = func.prototype;\n      var child = new ctor, result = func.apply(child, args);\n      return Object(result) === result ? result : child;\n    })(Color, slice.call(arguments).concat(['hsl']), function(){});\n  };\n\n  _input.hsl = hsl2rgb;\n\n  Color.prototype.hsl = function() {\n    return rgb2hsl(this._rgb);\n  };\n\n  hsv2rgb = function() {\n    var args, b, f, g, h, i, p, q, r, ref, ref1, ref2, ref3, ref4, ref5, s, t, v;\n    args = unpack(arguments);\n    h = args[0], s = args[1], v = args[2];\n    v *= 255;\n    if (s === 0) {\n      r = g = b = v;\n    } else {\n      if (h === 360) {\n        h = 0;\n      }\n      if (h > 360) {\n        h -= 360;\n      }\n      if (h < 0) {\n        h += 360;\n      }\n      h /= 60;\n      i = floor(h);\n      f = h - i;\n      p = v * (1 - s);\n      q = v * (1 - s * f);\n      t = v * (1 - s * (1 - f));\n      switch (i) {\n        case 0:\n          ref = [v, t, p], r = ref[0], g = ref[1], b = ref[2];\n          break;\n        case 1:\n          ref1 = [q, v, p], r = ref1[0], g = ref1[1], b = ref1[2];\n          break;\n        case 2:\n          ref2 = [p, v, t], r = ref2[0], g = ref2[1], b = ref2[2];\n          break;\n        case 3:\n          ref3 = [p, q, v], r = ref3[0], g = ref3[1], b = ref3[2];\n          break;\n        case 4:\n          ref4 = [t, p, v], r = ref4[0], g = ref4[1], b = ref4[2];\n          break;\n        case 5:\n          ref5 = [v, p, q], r = ref5[0], g = ref5[1], b = ref5[2];\n      }\n    }\n    return [r, g, b, args.length > 3 ? args[3] : 1];\n  };\n\n  rgb2hsv = function() {\n    var b, delta, g, h, min, r, ref, s, v;\n    ref = unpack(arguments), r = ref[0], g = ref[1], b = ref[2];\n    min = Math.min(r, g, b);\n    max = Math.max(r, g, b);\n    delta = max - min;\n    v = max / 255.0;\n    if (max === 0) {\n      h = Number.NaN;\n      s = 0;\n    } else {\n      s = delta / max;\n      if (r === max) {\n        h = (g - b) / delta;\n      }\n      if (g === max) {\n        h = 2 + (b - r) / delta;\n      }\n      if (b === max) {\n        h = 4 + (r - g) / delta;\n      }\n      h *= 60;\n      if (h < 0) {\n        h += 360;\n      }\n    }\n    return [h, s, v];\n  };\n\n  chroma.hsv = function() {\n    return (function(func, args, ctor) {\n      ctor.prototype = func.prototype;\n      var child = new ctor, result = func.apply(child, args);\n      return Object(result) === result ? result : child;\n    })(Color, slice.call(arguments).concat(['hsv']), function(){});\n  };\n\n  _input.hsv = hsv2rgb;\n\n  Color.prototype.hsv = function() {\n    return rgb2hsv(this._rgb);\n  };\n\n  num2rgb = function(num) {\n    var b, g, r;\n    if (type(num) === \"number\" && num >= 0 && num <= 0xFFFFFF) {\n      r = num >> 16;\n      g = (num >> 8) & 0xFF;\n      b = num & 0xFF;\n      return [r, g, b, 1];\n    }\n    console.warn(\"unknown num color: \" + num);\n    return [0, 0, 0, 1];\n  };\n\n  rgb2num = function() {\n    var b, g, r, ref;\n    ref = unpack(arguments), r = ref[0], g = ref[1], b = ref[2];\n    return (r << 16) + (g << 8) + b;\n  };\n\n  chroma.num = function(num) {\n    return new Color(num, 'num');\n  };\n\n  Color.prototype.num = function(mode) {\n    if (mode == null) {\n      mode = 'rgb';\n    }\n    return rgb2num(this._rgb, mode);\n  };\n\n  _input.num = num2rgb;\n\n  _guess_formats.push({\n    p: 1,\n    test: function(n) {\n      if (arguments.length === 1 && type(n) === \"number\" && n >= 0 && n <= 0xFFFFFF) {\n        return 'num';\n      }\n    }\n  });\n\n  hcg2rgb = function() {\n    var _c, _g, args, b, c, f, g, h, i, p, q, r, ref, ref1, ref2, ref3, ref4, ref5, t, v;\n    args = unpack(arguments);\n    h = args[0], c = args[1], _g = args[2];\n    c = c / 100;\n    g = g / 100 * 255;\n    _c = c * 255;\n    if (c === 0) {\n      r = g = b = _g;\n    } else {\n      if (h === 360) {\n        h = 0;\n      }\n      if (h > 360) {\n        h -= 360;\n      }\n      if (h < 0) {\n        h += 360;\n      }\n      h /= 60;\n      i = floor(h);\n      f = h - i;\n      p = _g * (1 - c);\n      q = p + _c * (1 - f);\n      t = p + _c * f;\n      v = p + _c;\n      switch (i) {\n        case 0:\n          ref = [v, t, p], r = ref[0], g = ref[1], b = ref[2];\n          break;\n        case 1:\n          ref1 = [q, v, p], r = ref1[0], g = ref1[1], b = ref1[2];\n          break;\n        case 2:\n          ref2 = [p, v, t], r = ref2[0], g = ref2[1], b = ref2[2];\n          break;\n        case 3:\n          ref3 = [p, q, v], r = ref3[0], g = ref3[1], b = ref3[2];\n          break;\n        case 4:\n          ref4 = [t, p, v], r = ref4[0], g = ref4[1], b = ref4[2];\n          break;\n        case 5:\n          ref5 = [v, p, q], r = ref5[0], g = ref5[1], b = ref5[2];\n      }\n    }\n    return [r, g, b, args.length > 3 ? args[3] : 1];\n  };\n\n  rgb2hcg = function() {\n    var _g, b, c, delta, g, h, min, r, ref;\n    ref = unpack(arguments), r = ref[0], g = ref[1], b = ref[2];\n    min = Math.min(r, g, b);\n    max = Math.max(r, g, b);\n    delta = max - min;\n    c = delta * 100 / 255;\n    _g = min / (255 - delta) * 100;\n    if (delta === 0) {\n      h = Number.NaN;\n    } else {\n      if (r === max) {\n        h = (g - b) / delta;\n      }\n      if (g === max) {\n        h = 2 + (b - r) / delta;\n      }\n      if (b === max) {\n        h = 4 + (r - g) / delta;\n      }\n      h *= 60;\n      if (h < 0) {\n        h += 360;\n      }\n    }\n    return [h, c, _g];\n  };\n\n  chroma.hcg = function() {\n    return (function(func, args, ctor) {\n      ctor.prototype = func.prototype;\n      var child = new ctor, result = func.apply(child, args);\n      return Object(result) === result ? result : child;\n    })(Color, slice.call(arguments).concat(['hcg']), function(){});\n  };\n\n  _input.hcg = hcg2rgb;\n\n  Color.prototype.hcg = function() {\n    return rgb2hcg(this._rgb);\n  };\n\n  css2rgb = function(css) {\n    var aa, ab, hsl, i, m, o, rgb, w;\n    css = css.toLowerCase();\n    if ((chroma.colors != null) && chroma.colors[css]) {\n      return hex2rgb(chroma.colors[css]);\n    }\n    if (m = css.match(/rgb\\(\\s*(\\-?\\d+),\\s*(\\-?\\d+)\\s*,\\s*(\\-?\\d+)\\s*\\)/)) {\n      rgb = m.slice(1, 4);\n      for (i = o = 0; o <= 2; i = ++o) {\n        rgb[i] = +rgb[i];\n      }\n      rgb[3] = 1;\n    } else if (m = css.match(/rgba\\(\\s*(\\-?\\d+),\\s*(\\-?\\d+)\\s*,\\s*(\\-?\\d+)\\s*,\\s*([01]|[01]?\\.\\d+)\\)/)) {\n      rgb = m.slice(1, 5);\n      for (i = w = 0; w <= 3; i = ++w) {\n        rgb[i] = +rgb[i];\n      }\n    } else if (m = css.match(/rgb\\(\\s*(\\-?\\d+(?:\\.\\d+)?)%,\\s*(\\-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(\\-?\\d+(?:\\.\\d+)?)%\\s*\\)/)) {\n      rgb = m.slice(1, 4);\n      for (i = aa = 0; aa <= 2; i = ++aa) {\n        rgb[i] = round(rgb[i] * 2.55);\n      }\n      rgb[3] = 1;\n    } else if (m = css.match(/rgba\\(\\s*(\\-?\\d+(?:\\.\\d+)?)%,\\s*(\\-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(\\-?\\d+(?:\\.\\d+)?)%\\s*,\\s*([01]|[01]?\\.\\d+)\\)/)) {\n      rgb = m.slice(1, 5);\n      for (i = ab = 0; ab <= 2; i = ++ab) {\n        rgb[i] = round(rgb[i] * 2.55);\n      }\n      rgb[3] = +rgb[3];\n    } else if (m = css.match(/hsl\\(\\s*(\\-?\\d+(?:\\.\\d+)?),\\s*(\\-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(\\-?\\d+(?:\\.\\d+)?)%\\s*\\)/)) {\n      hsl = m.slice(1, 4);\n      hsl[1] *= 0.01;\n      hsl[2] *= 0.01;\n      rgb = hsl2rgb(hsl);\n      rgb[3] = 1;\n    } else if (m = css.match(/hsla\\(\\s*(\\-?\\d+(?:\\.\\d+)?),\\s*(\\-?\\d+(?:\\.\\d+)?)%\\s*,\\s*(\\-?\\d+(?:\\.\\d+)?)%\\s*,\\s*([01]|[01]?\\.\\d+)\\)/)) {\n      hsl = m.slice(1, 4);\n      hsl[1] *= 0.01;\n      hsl[2] *= 0.01;\n      rgb = hsl2rgb(hsl);\n      rgb[3] = +m[4];\n    }\n    return rgb;\n  };\n\n  rgb2css = function(rgba) {\n    var mode;\n    mode = rgba[3] < 1 ? 'rgba' : 'rgb';\n    if (mode === 'rgb') {\n      return mode + '(' + rgba.slice(0, 3).map(round).join(',') + ')';\n    } else if (mode === 'rgba') {\n      return mode + '(' + rgba.slice(0, 3).map(round).join(',') + ',' + rgba[3] + ')';\n    } else {\n\n    }\n  };\n\n  rnd = function(a) {\n    return round(a * 100) / 100;\n  };\n\n  hsl2css = function(hsl, alpha) {\n    var mode;\n    mode = alpha < 1 ? 'hsla' : 'hsl';\n    hsl[0] = rnd(hsl[0] || 0);\n    hsl[1] = rnd(hsl[1] * 100) + '%';\n    hsl[2] = rnd(hsl[2] * 100) + '%';\n    if (mode === 'hsla') {\n      hsl[3] = alpha;\n    }\n    return mode + '(' + hsl.join(',') + ')';\n  };\n\n  _input.css = function(h) {\n    return css2rgb(h);\n  };\n\n  chroma.css = function() {\n    return (function(func, args, ctor) {\n      ctor.prototype = func.prototype;\n      var child = new ctor, result = func.apply(child, args);\n      return Object(result) === result ? result : child;\n    })(Color, slice.call(arguments).concat(['css']), function(){});\n  };\n\n  Color.prototype.css = function(mode) {\n    if (mode == null) {\n      mode = 'rgb';\n    }\n    if (mode.slice(0, 3) === 'rgb') {\n      return rgb2css(this._rgb);\n    } else if (mode.slice(0, 3) === 'hsl') {\n      return hsl2css(this.hsl(), this.alpha());\n    }\n  };\n\n  _input.named = function(name) {\n    return hex2rgb(w3cx11[name]);\n  };\n\n  _guess_formats.push({\n    p: 5,\n    test: function(n) {\n      if (arguments.length === 1 && (w3cx11[n] != null)) {\n        return 'named';\n      }\n    }\n  });\n\n  Color.prototype.name = function(n) {\n    var h, k;\n    if (arguments.length) {\n      if (w3cx11[n]) {\n        this._rgb = hex2rgb(w3cx11[n]);\n      }\n      this._rgb[3] = 1;\n      this;\n    }\n    h = this.hex('rgb');\n    for (k in w3cx11) {\n      if (h === w3cx11[k]) {\n        return k;\n      }\n    }\n    return h;\n  };\n\n  lch2lab = function() {\n\n    /*\n    Convert from a qualitative parameter h and a quantitative parameter l to a 24-bit pixel.\n    These formulas were invented by David Dalrymple to obtain maximum contrast without going\n    out of gamut if the parameters are in the range 0-1.\n    \n    A saturation multiplier was added by Gregor Aisch\n     */\n    var c, h, l, ref;\n    ref = unpack(arguments), l = ref[0], c = ref[1], h = ref[2];\n    h = h * DEG2RAD;\n    return [l, cos(h) * c, sin(h) * c];\n  };\n\n  lch2rgb = function() {\n    var L, a, args, b, c, g, h, l, r, ref, ref1;\n    args = unpack(arguments);\n    l = args[0], c = args[1], h = args[2];\n    ref = lch2lab(l, c, h), L = ref[0], a = ref[1], b = ref[2];\n    ref1 = lab2rgb(L, a, b), r = ref1[0], g = ref1[1], b = ref1[2];\n    return [r, g, b, args.length > 3 ? args[3] : 1];\n  };\n\n  lab2lch = function() {\n    var a, b, c, h, l, ref;\n    ref = unpack(arguments), l = ref[0], a = ref[1], b = ref[2];\n    c = sqrt(a * a + b * b);\n    h = (atan2(b, a) * RAD2DEG + 360) % 360;\n    if (round(c * 10000) === 0) {\n      h = Number.NaN;\n    }\n    return [l, c, h];\n  };\n\n  rgb2lch = function() {\n    var a, b, g, l, r, ref, ref1;\n    ref = unpack(arguments), r = ref[0], g = ref[1], b = ref[2];\n    ref1 = rgb2lab(r, g, b), l = ref1[0], a = ref1[1], b = ref1[2];\n    return lab2lch(l, a, b);\n  };\n\n  chroma.lch = function() {\n    var args;\n    args = unpack(arguments);\n    return new Color(args, 'lch');\n  };\n\n  chroma.hcl = function() {\n    var args;\n    args = unpack(arguments);\n    return new Color(args, 'hcl');\n  };\n\n  _input.lch = lch2rgb;\n\n  _input.hcl = function() {\n    var c, h, l, ref;\n    ref = unpack(arguments), h = ref[0], c = ref[1], l = ref[2];\n    return lch2rgb([l, c, h]);\n  };\n\n  Color.prototype.lch = function() {\n    return rgb2lch(this._rgb);\n  };\n\n  Color.prototype.hcl = function() {\n    return rgb2lch(this._rgb).reverse();\n  };\n\n  rgb2cmyk = function(mode) {\n    var b, c, f, g, k, m, r, ref, y;\n    if (mode == null) {\n      mode = 'rgb';\n    }\n    ref = unpack(arguments), r = ref[0], g = ref[1], b = ref[2];\n    r = r / 255;\n    g = g / 255;\n    b = b / 255;\n    k = 1 - Math.max(r, Math.max(g, b));\n    f = k < 1 ? 1 / (1 - k) : 0;\n    c = (1 - r - k) * f;\n    m = (1 - g - k) * f;\n    y = (1 - b - k) * f;\n    return [c, m, y, k];\n  };\n\n  cmyk2rgb = function() {\n    var alpha, args, b, c, g, k, m, r, y;\n    args = unpack(arguments);\n    c = args[0], m = args[1], y = args[2], k = args[3];\n    alpha = args.length > 4 ? args[4] : 1;\n    if (k === 1) {\n      return [0, 0, 0, alpha];\n    }\n    r = c >= 1 ? 0 : 255 * (1 - c) * (1 - k);\n    g = m >= 1 ? 0 : 255 * (1 - m) * (1 - k);\n    b = y >= 1 ? 0 : 255 * (1 - y) * (1 - k);\n    return [r, g, b, alpha];\n  };\n\n  _input.cmyk = function() {\n    return cmyk2rgb(unpack(arguments));\n  };\n\n  chroma.cmyk = function() {\n    return (function(func, args, ctor) {\n      ctor.prototype = func.prototype;\n      var child = new ctor, result = func.apply(child, args);\n      return Object(result) === result ? result : child;\n    })(Color, slice.call(arguments).concat(['cmyk']), function(){});\n  };\n\n  Color.prototype.cmyk = function() {\n    return rgb2cmyk(this._rgb);\n  };\n\n  _input.gl = function() {\n    var i, k, o, rgb, v;\n    rgb = (function() {\n      var ref, results;\n      ref = unpack(arguments);\n      results = [];\n      for (k in ref) {\n        v = ref[k];\n        results.push(v);\n      }\n      return results;\n    }).apply(this, arguments);\n    for (i = o = 0; o <= 2; i = ++o) {\n      rgb[i] *= 255;\n    }\n    return rgb;\n  };\n\n  chroma.gl = function() {\n    return (function(func, args, ctor) {\n      ctor.prototype = func.prototype;\n      var child = new ctor, result = func.apply(child, args);\n      return Object(result) === result ? result : child;\n    })(Color, slice.call(arguments).concat(['gl']), function(){});\n  };\n\n  Color.prototype.gl = function() {\n    var rgb;\n    rgb = this._rgb;\n    return [rgb[0] / 255, rgb[1] / 255, rgb[2] / 255, rgb[3]];\n  };\n\n  rgb2luminance = function(r, g, b) {\n    var ref;\n    ref = unpack(arguments), r = ref[0], g = ref[1], b = ref[2];\n    r = luminance_x(r);\n    g = luminance_x(g);\n    b = luminance_x(b);\n    return 0.2126 * r + 0.7152 * g + 0.0722 * b;\n  };\n\n  luminance_x = function(x) {\n    x /= 255;\n    if (x <= 0.03928) {\n      return x / 12.92;\n    } else {\n      return pow((x + 0.055) / 1.055, 2.4);\n    }\n  };\n\n  interpolate_rgb = function(col1, col2, f, m) {\n    var xyz0, xyz1;\n    xyz0 = col1._rgb;\n    xyz1 = col2._rgb;\n    return new Color(xyz0[0] + f * (xyz1[0] - xyz0[0]), xyz0[1] + f * (xyz1[1] - xyz0[1]), xyz0[2] + f * (xyz1[2] - xyz0[2]), m);\n  };\n\n  _interpolators.push(['rgb', interpolate_rgb]);\n\n  Color.prototype.luminance = function(lum, mode) {\n    var cur_lum, eps, max_iter, rgba, test;\n    if (mode == null) {\n      mode = 'rgb';\n    }\n    if (!arguments.length) {\n      return rgb2luminance(this._rgb);\n    }\n    rgba = this._rgb;\n    if (lum === 0) {\n      rgba = [0, 0, 0, this._rgb[3]];\n    } else if (lum === 1) {\n      rgba = [255, 255, 255, this[3]];\n    } else {\n      cur_lum = rgb2luminance(this._rgb);\n      eps = 1e-7;\n      max_iter = 20;\n      test = function(l, h) {\n        var lm, m;\n        m = l.interpolate(h, 0.5, mode);\n        lm = m.luminance();\n        if (Math.abs(lum - lm) < eps || !max_iter--) {\n          return m;\n        }\n        if (lm > lum) {\n          return test(l, m);\n        }\n        return test(m, h);\n      };\n      if (cur_lum > lum) {\n        rgba = test(chroma('black'), this).rgba();\n      } else {\n        rgba = test(this, chroma('white')).rgba();\n      }\n    }\n    return chroma(rgba).alpha(this.alpha());\n  };\n\n  temperature2rgb = function(kelvin) {\n    var b, g, r, temp;\n    temp = kelvin / 100;\n    if (temp < 66) {\n      r = 255;\n      g = -155.25485562709179 - 0.44596950469579133 * (g = temp - 2) + 104.49216199393888 * log(g);\n      b = temp < 20 ? 0 : -254.76935184120902 + 0.8274096064007395 * (b = temp - 10) + 115.67994401066147 * log(b);\n    } else {\n      r = 351.97690566805693 + 0.114206453784165 * (r = temp - 55) - 40.25366309332127 * log(r);\n      g = 325.4494125711974 + 0.07943456536662342 * (g = temp - 50) - 28.0852963507957 * log(g);\n      b = 255;\n    }\n    return [r, g, b];\n  };\n\n  rgb2temperature = function() {\n    var b, eps, g, maxTemp, minTemp, r, ref, rgb, temp;\n    ref = unpack(arguments), r = ref[0], g = ref[1], b = ref[2];\n    minTemp = 1000;\n    maxTemp = 40000;\n    eps = 0.4;\n    while (maxTemp - minTemp > eps) {\n      temp = (maxTemp + minTemp) * 0.5;\n      rgb = temperature2rgb(temp);\n      if ((rgb[2] / rgb[0]) >= (b / r)) {\n        maxTemp = temp;\n      } else {\n        minTemp = temp;\n      }\n    }\n    return round(temp);\n  };\n\n  chroma.temperature = chroma.kelvin = function() {\n    return (function(func, args, ctor) {\n      ctor.prototype = func.prototype;\n      var child = new ctor, result = func.apply(child, args);\n      return Object(result) === result ? result : child;\n    })(Color, slice.call(arguments).concat(['temperature']), function(){});\n  };\n\n  _input.temperature = _input.kelvin = _input.K = temperature2rgb;\n\n  Color.prototype.temperature = function() {\n    return rgb2temperature(this._rgb);\n  };\n\n  Color.prototype.kelvin = Color.prototype.temperature;\n\n  chroma.contrast = function(a, b) {\n    var l1, l2, ref, ref1;\n    if ((ref = type(a)) === 'string' || ref === 'number') {\n      a = new Color(a);\n    }\n    if ((ref1 = type(b)) === 'string' || ref1 === 'number') {\n      b = new Color(b);\n    }\n    l1 = a.luminance();\n    l2 = b.luminance();\n    if (l1 > l2) {\n      return (l1 + 0.05) / (l2 + 0.05);\n    } else {\n      return (l2 + 0.05) / (l1 + 0.05);\n    }\n  };\n\n  chroma.distance = function(a, b, mode) {\n    var d, i, l1, l2, ref, ref1, sum_sq;\n    if (mode == null) {\n      mode = 'lab';\n    }\n    if ((ref = type(a)) === 'string' || ref === 'number') {\n      a = new Color(a);\n    }\n    if ((ref1 = type(b)) === 'string' || ref1 === 'number') {\n      b = new Color(b);\n    }\n    l1 = a.get(mode);\n    l2 = b.get(mode);\n    sum_sq = 0;\n    for (i in l1) {\n      d = (l1[i] || 0) - (l2[i] || 0);\n      sum_sq += d * d;\n    }\n    return Math.sqrt(sum_sq);\n  };\n\n  chroma.deltaE = function(a, b, L, C) {\n    var L1, L2, a1, a2, b1, b2, c1, c2, c4, dH2, delA, delB, delC, delL, f, h1, ref, ref1, ref2, ref3, sc, sh, sl, t, v1, v2, v3;\n    if (L == null) {\n      L = 1;\n    }\n    if (C == null) {\n      C = 1;\n    }\n    if ((ref = type(a)) === 'string' || ref === 'number') {\n      a = new Color(a);\n    }\n    if ((ref1 = type(b)) === 'string' || ref1 === 'number') {\n      b = new Color(b);\n    }\n    ref2 = a.lab(), L1 = ref2[0], a1 = ref2[1], b1 = ref2[2];\n    ref3 = b.lab(), L2 = ref3[0], a2 = ref3[1], b2 = ref3[2];\n    c1 = sqrt(a1 * a1 + b1 * b1);\n    c2 = sqrt(a2 * a2 + b2 * b2);\n    sl = L1 < 16.0 ? 0.511 : (0.040975 * L1) / (1.0 + 0.01765 * L1);\n    sc = (0.0638 * c1) / (1.0 + 0.0131 * c1) + 0.638;\n    h1 = c1 < 0.000001 ? 0.0 : (atan2(b1, a1) * 180.0) / PI;\n    while (h1 < 0) {\n      h1 += 360;\n    }\n    while (h1 >= 360) {\n      h1 -= 360;\n    }\n    t = (h1 >= 164.0) && (h1 <= 345.0) ? 0.56 + abs(0.2 * cos((PI * (h1 + 168.0)) / 180.0)) : 0.36 + abs(0.4 * cos((PI * (h1 + 35.0)) / 180.0));\n    c4 = c1 * c1 * c1 * c1;\n    f = sqrt(c4 / (c4 + 1900.0));\n    sh = sc * (f * t + 1.0 - f);\n    delL = L1 - L2;\n    delC = c1 - c2;\n    delA = a1 - a2;\n    delB = b1 - b2;\n    dH2 = delA * delA + delB * delB - delC * delC;\n    v1 = delL / (L * sl);\n    v2 = delC / (C * sc);\n    v3 = sh;\n    return sqrt(v1 * v1 + v2 * v2 + (dH2 / (v3 * v3)));\n  };\n\n  Color.prototype.get = function(modechan) {\n    var channel, i, me, mode, ref, src;\n    me = this;\n    ref = modechan.split('.'), mode = ref[0], channel = ref[1];\n    src = me[mode]();\n    if (channel) {\n      i = mode.indexOf(channel);\n      if (i > -1) {\n        return src[i];\n      } else {\n        return console.warn('unknown channel ' + channel + ' in mode ' + mode);\n      }\n    } else {\n      return src;\n    }\n  };\n\n  Color.prototype.set = function(modechan, value) {\n    var channel, i, me, mode, ref, src;\n    me = this;\n    ref = modechan.split('.'), mode = ref[0], channel = ref[1];\n    if (channel) {\n      src = me[mode]();\n      i = mode.indexOf(channel);\n      if (i > -1) {\n        if (type(value) === 'string') {\n          switch (value.charAt(0)) {\n            case '+':\n              src[i] += +value;\n              break;\n            case '-':\n              src[i] += +value;\n              break;\n            case '*':\n              src[i] *= +(value.substr(1));\n              break;\n            case '/':\n              src[i] /= +(value.substr(1));\n              break;\n            default:\n              src[i] = +value;\n          }\n        } else {\n          src[i] = value;\n        }\n      } else {\n        console.warn('unknown channel ' + channel + ' in mode ' + mode);\n      }\n    } else {\n      src = value;\n    }\n    return chroma(src, mode).alpha(me.alpha());\n  };\n\n  Color.prototype.clipped = function() {\n    return this._rgb._clipped || false;\n  };\n\n  Color.prototype.alpha = function(a) {\n    if (arguments.length) {\n      return chroma.rgb([this._rgb[0], this._rgb[1], this._rgb[2], a]);\n    }\n    return this._rgb[3];\n  };\n\n  Color.prototype.darken = function(amount) {\n    var lab, me;\n    if (amount == null) {\n      amount = 1;\n    }\n    me = this;\n    lab = me.lab();\n    lab[0] -= LAB_CONSTANTS.Kn * amount;\n    return chroma.lab(lab).alpha(me.alpha());\n  };\n\n  Color.prototype.brighten = function(amount) {\n    if (amount == null) {\n      amount = 1;\n    }\n    return this.darken(-amount);\n  };\n\n  Color.prototype.darker = Color.prototype.darken;\n\n  Color.prototype.brighter = Color.prototype.brighten;\n\n  Color.prototype.saturate = function(amount) {\n    var lch, me;\n    if (amount == null) {\n      amount = 1;\n    }\n    me = this;\n    lch = me.lch();\n    lch[1] += amount * LAB_CONSTANTS.Kn;\n    if (lch[1] < 0) {\n      lch[1] = 0;\n    }\n    return chroma.lch(lch).alpha(me.alpha());\n  };\n\n  Color.prototype.desaturate = function(amount) {\n    if (amount == null) {\n      amount = 1;\n    }\n    return this.saturate(-amount);\n  };\n\n  Color.prototype.premultiply = function() {\n    var a, rgb;\n    rgb = this.rgb();\n    a = this.alpha();\n    return chroma(rgb[0] * a, rgb[1] * a, rgb[2] * a, a);\n  };\n\n  blend = function(bottom, top, mode) {\n    if (!blend[mode]) {\n      throw 'unknown blend mode ' + mode;\n    }\n    return blend[mode](bottom, top);\n  };\n\n  blend_f = function(f) {\n    return function(bottom, top) {\n      var c0, c1;\n      c0 = chroma(top).rgb();\n      c1 = chroma(bottom).rgb();\n      return chroma(f(c0, c1), 'rgb');\n    };\n  };\n\n  each = function(f) {\n    return function(c0, c1) {\n      var i, o, out;\n      out = [];\n      for (i = o = 0; o <= 3; i = ++o) {\n        out[i] = f(c0[i], c1[i]);\n      }\n      return out;\n    };\n  };\n\n  normal = function(a, b) {\n    return a;\n  };\n\n  multiply = function(a, b) {\n    return a * b / 255;\n  };\n\n  darken = function(a, b) {\n    if (a > b) {\n      return b;\n    } else {\n      return a;\n    }\n  };\n\n  lighten = function(a, b) {\n    if (a > b) {\n      return a;\n    } else {\n      return b;\n    }\n  };\n\n  screen = function(a, b) {\n    return 255 * (1 - (1 - a / 255) * (1 - b / 255));\n  };\n\n  overlay = function(a, b) {\n    if (b < 128) {\n      return 2 * a * b / 255;\n    } else {\n      return 255 * (1 - 2 * (1 - a / 255) * (1 - b / 255));\n    }\n  };\n\n  burn = function(a, b) {\n    return 255 * (1 - (1 - b / 255) / (a / 255));\n  };\n\n  dodge = function(a, b) {\n    if (a === 255) {\n      return 255;\n    }\n    a = 255 * (b / 255) / (1 - a / 255);\n    if (a > 255) {\n      return 255;\n    } else {\n      return a;\n    }\n  };\n\n  blend.normal = blend_f(each(normal));\n\n  blend.multiply = blend_f(each(multiply));\n\n  blend.screen = blend_f(each(screen));\n\n  blend.overlay = blend_f(each(overlay));\n\n  blend.darken = blend_f(each(darken));\n\n  blend.lighten = blend_f(each(lighten));\n\n  blend.dodge = blend_f(each(dodge));\n\n  blend.burn = blend_f(each(burn));\n\n  chroma.blend = blend;\n\n  chroma.analyze = function(data) {\n    var len, o, r, val;\n    r = {\n      min: Number.MAX_VALUE,\n      max: Number.MAX_VALUE * -1,\n      sum: 0,\n      values: [],\n      count: 0\n    };\n    for (o = 0, len = data.length; o < len; o++) {\n      val = data[o];\n      if ((val != null) && !isNaN(val)) {\n        r.values.push(val);\n        r.sum += val;\n        if (val < r.min) {\n          r.min = val;\n        }\n        if (val > r.max) {\n          r.max = val;\n        }\n        r.count += 1;\n      }\n    }\n    r.domain = [r.min, r.max];\n    r.limits = function(mode, num) {\n      return chroma.limits(r, mode, num);\n    };\n    return r;\n  };\n\n  chroma.scale = function(colors, positions) {\n    var _classes, _colorCache, _colors, _correctLightness, _domain, _fixed, _gamma, _max, _min, _mode, _nacol, _out, _padding, _pos, _spread, _useCache, classifyValue, f, getClass, getColor, resetCache, setColors, tmap;\n    _mode = 'rgb';\n    _nacol = chroma('#ccc');\n    _spread = 0;\n    _fixed = false;\n    _domain = [0, 1];\n    _pos = [];\n    _padding = [0, 0];\n    _classes = false;\n    _colors = [];\n    _out = false;\n    _min = 0;\n    _max = 1;\n    _correctLightness = false;\n    _colorCache = {};\n    _useCache = true;\n    _gamma = 1;\n    setColors = function(colors) {\n      var c, col, o, ref, ref1, w;\n      if (colors == null) {\n        colors = ['#fff', '#000'];\n      }\n      if ((colors != null) && type(colors) === 'string' && (chroma.brewer != null)) {\n        colors = chroma.brewer[colors] || chroma.brewer[colors.toLowerCase()] || colors;\n      }\n      if (type(colors) === 'array') {\n        if (colors.length === 1) {\n          colors = [colors[0], colors[0]];\n        }\n        colors = colors.slice(0);\n        for (c = o = 0, ref = colors.length - 1; 0 <= ref ? o <= ref : o >= ref; c = 0 <= ref ? ++o : --o) {\n          col = colors[c];\n          if (type(col) === \"string\") {\n            colors[c] = chroma(col);\n          }\n        }\n        _pos.length = 0;\n        for (c = w = 0, ref1 = colors.length - 1; 0 <= ref1 ? w <= ref1 : w >= ref1; c = 0 <= ref1 ? ++w : --w) {\n          _pos.push(c / (colors.length - 1));\n        }\n      }\n      resetCache();\n      return _colors = colors;\n    };\n    getClass = function(value) {\n      var i, n;\n      if (_classes != null) {\n        n = _classes.length - 1;\n        i = 0;\n        while (i < n && value >= _classes[i]) {\n          i++;\n        }\n        return i - 1;\n      }\n      return 0;\n    };\n    tmap = function(t) {\n      return t;\n    };\n    classifyValue = function(value) {\n      var i, maxc, minc, n, val;\n      val = value;\n      if (_classes.length > 2) {\n        n = _classes.length - 1;\n        i = getClass(value);\n        minc = _classes[0] + (_classes[1] - _classes[0]) * (0 + _spread * 0.5);\n        maxc = _classes[n - 1] + (_classes[n] - _classes[n - 1]) * (1 - _spread * 0.5);\n        val = _min + ((_classes[i] + (_classes[i + 1] - _classes[i]) * 0.5 - minc) / (maxc - minc)) * (_max - _min);\n      }\n      return val;\n    };\n    getColor = function(val, bypassMap) {\n      var c, col, i, k, o, p, ref, t;\n      if (bypassMap == null) {\n        bypassMap = false;\n      }\n      if (isNaN(val) || val === null) {\n        return _nacol;\n      }\n      if (!bypassMap) {\n        if (_classes && _classes.length > 2) {\n          c = getClass(val);\n          t = c / (_classes.length - 2);\n        } else if (_max !== _min) {\n          t = (val - _min) / (_max - _min);\n        } else {\n          t = 1;\n        }\n      } else {\n        t = val;\n      }\n      if (!bypassMap) {\n        t = tmap(t);\n      }\n      if (_gamma !== 1) {\n        t = pow(t, _gamma);\n      }\n      t = _padding[0] + (t * (1 - _padding[0] - _padding[1]));\n      t = Math.min(1, Math.max(0, t));\n      k = Math.floor(t * 10000);\n      if (_useCache && _colorCache[k]) {\n        col = _colorCache[k];\n      } else {\n        if (type(_colors) === 'array') {\n          for (i = o = 0, ref = _pos.length - 1; 0 <= ref ? o <= ref : o >= ref; i = 0 <= ref ? ++o : --o) {\n            p = _pos[i];\n            if (t <= p) {\n              col = _colors[i];\n              break;\n            }\n            if (t >= p && i === _pos.length - 1) {\n              col = _colors[i];\n              break;\n            }\n            if (t > p && t < _pos[i + 1]) {\n              t = (t - p) / (_pos[i + 1] - p);\n              col = chroma.interpolate(_colors[i], _colors[i + 1], t, _mode);\n              break;\n            }\n          }\n        } else if (type(_colors) === 'function') {\n          col = _colors(t);\n        }\n        if (_useCache) {\n          _colorCache[k] = col;\n        }\n      }\n      return col;\n    };\n    resetCache = function() {\n      return _colorCache = {};\n    };\n    setColors(colors);\n    f = function(v) {\n      var c;\n      c = chroma(getColor(v));\n      if (_out && c[_out]) {\n        return c[_out]();\n      } else {\n        return c;\n      }\n    };\n    f.classes = function(classes) {\n      var d;\n      if (classes != null) {\n        if (type(classes) === 'array') {\n          _classes = classes;\n          _domain = [classes[0], classes[classes.length - 1]];\n        } else {\n          d = chroma.analyze(_domain);\n          if (classes === 0) {\n            _classes = [d.min, d.max];\n          } else {\n            _classes = chroma.limits(d, 'e', classes);\n          }\n        }\n        return f;\n      }\n      return _classes;\n    };\n    f.domain = function(domain) {\n      var c, d, k, len, o, ref, w;\n      if (!arguments.length) {\n        return _domain;\n      }\n      _min = domain[0];\n      _max = domain[domain.length - 1];\n      _pos = [];\n      k = _colors.length;\n      if (domain.length === k && _min !== _max) {\n        for (o = 0, len = domain.length; o < len; o++) {\n          d = domain[o];\n          _pos.push((d - _min) / (_max - _min));\n        }\n      } else {\n        for (c = w = 0, ref = k - 1; 0 <= ref ? w <= ref : w >= ref; c = 0 <= ref ? ++w : --w) {\n          _pos.push(c / (k - 1));\n        }\n      }\n      _domain = [_min, _max];\n      return f;\n    };\n    f.mode = function(_m) {\n      if (!arguments.length) {\n        return _mode;\n      }\n      _mode = _m;\n      resetCache();\n      return f;\n    };\n    f.range = function(colors, _pos) {\n      setColors(colors, _pos);\n      return f;\n    };\n    f.out = function(_o) {\n      _out = _o;\n      return f;\n    };\n    f.spread = function(val) {\n      if (!arguments.length) {\n        return _spread;\n      }\n      _spread = val;\n      return f;\n    };\n    f.correctLightness = function(v) {\n      if (v == null) {\n        v = true;\n      }\n      _correctLightness = v;\n      resetCache();\n      if (_correctLightness) {\n        tmap = function(t) {\n          var L0, L1, L_actual, L_diff, L_ideal, max_iter, pol, t0, t1;\n          L0 = getColor(0, true).lab()[0];\n          L1 = getColor(1, true).lab()[0];\n          pol = L0 > L1;\n          L_actual = getColor(t, true).lab()[0];\n          L_ideal = L0 + (L1 - L0) * t;\n          L_diff = L_actual - L_ideal;\n          t0 = 0;\n          t1 = 1;\n          max_iter = 20;\n          while (Math.abs(L_diff) > 1e-2 && max_iter-- > 0) {\n            (function() {\n              if (pol) {\n                L_diff *= -1;\n              }\n              if (L_diff < 0) {\n                t0 = t;\n                t += (t1 - t) * 0.5;\n              } else {\n                t1 = t;\n                t += (t0 - t) * 0.5;\n              }\n              L_actual = getColor(t, true).lab()[0];\n              return L_diff = L_actual - L_ideal;\n            })();\n          }\n          return t;\n        };\n      } else {\n        tmap = function(t) {\n          return t;\n        };\n      }\n      return f;\n    };\n    f.padding = function(p) {\n      if (p != null) {\n        if (type(p) === 'number') {\n          p = [p, p];\n        }\n        _padding = p;\n        return f;\n      } else {\n        return _padding;\n      }\n    };\n    f.colors = function(numColors, out) {\n      var dd, dm, i, o, ref, result, results, samples, w;\n      if (arguments.length < 2) {\n        out = 'hex';\n      }\n      result = [];\n      if (arguments.length === 0) {\n        result = _colors.slice(0);\n      } else if (numColors === 1) {\n        result = [f(0.5)];\n      } else if (numColors > 1) {\n        dm = _domain[0];\n        dd = _domain[1] - dm;\n        result = (function() {\n          results = [];\n          for (var o = 0; 0 <= numColors ? o < numColors : o > numColors; 0 <= numColors ? o++ : o--){ results.push(o); }\n          return results;\n        }).apply(this).map(function(i) {\n          return f(dm + i / (numColors - 1) * dd);\n        });\n      } else {\n        colors = [];\n        samples = [];\n        if (_classes && _classes.length > 2) {\n          for (i = w = 1, ref = _classes.length; 1 <= ref ? w < ref : w > ref; i = 1 <= ref ? ++w : --w) {\n            samples.push((_classes[i - 1] + _classes[i]) * 0.5);\n          }\n        } else {\n          samples = _domain;\n        }\n        result = samples.map(function(v) {\n          return f(v);\n        });\n      }\n      if (chroma[out]) {\n        result = result.map(function(c) {\n          return c[out]();\n        });\n      }\n      return result;\n    };\n    f.cache = function(c) {\n      if (c != null) {\n        _useCache = c;\n        return f;\n      } else {\n        return _useCache;\n      }\n    };\n    f.gamma = function(g) {\n      if (g != null) {\n        _gamma = g;\n        return f;\n      } else {\n        return _gamma;\n      }\n    };\n    f.nodata = function(d) {\n      if (d != null) {\n        _nacol = chroma(d);\n        return f;\n      } else {\n        return _nacol;\n      }\n    };\n    return f;\n  };\n\n  if (chroma.scales == null) {\n    chroma.scales = {};\n  }\n\n  chroma.scales.cool = function() {\n    return chroma.scale([chroma.hsl(180, 1, .9), chroma.hsl(250, .7, .4)]);\n  };\n\n  chroma.scales.hot = function() {\n    return chroma.scale(['#000', '#f00', '#ff0', '#fff'], [0, .25, .75, 1]).mode('rgb');\n  };\n\n  chroma.analyze = function(data, key, filter) {\n    var add, k, len, o, r, val, visit;\n    r = {\n      min: Number.MAX_VALUE,\n      max: Number.MAX_VALUE * -1,\n      sum: 0,\n      values: [],\n      count: 0\n    };\n    if (filter == null) {\n      filter = function() {\n        return true;\n      };\n    }\n    add = function(val) {\n      if ((val != null) && !isNaN(val)) {\n        r.values.push(val);\n        r.sum += val;\n        if (val < r.min) {\n          r.min = val;\n        }\n        if (val > r.max) {\n          r.max = val;\n        }\n        r.count += 1;\n      }\n    };\n    visit = function(val, k) {\n      if (filter(val, k)) {\n        if ((key != null) && type(key) === 'function') {\n          return add(key(val));\n        } else if ((key != null) && type(key) === 'string' || type(key) === 'number') {\n          return add(val[key]);\n        } else {\n          return add(val);\n        }\n      }\n    };\n    if (type(data) === 'array') {\n      for (o = 0, len = data.length; o < len; o++) {\n        val = data[o];\n        visit(val);\n      }\n    } else {\n      for (k in data) {\n        val = data[k];\n        visit(val, k);\n      }\n    }\n    r.domain = [r.min, r.max];\n    r.limits = function(mode, num) {\n      return chroma.limits(r, mode, num);\n    };\n    return r;\n  };\n\n  chroma.limits = function(data, mode, num) {\n    var aa, ab, ac, ad, ae, af, ag, ah, ai, aj, ak, al, am, assignments, best, centroids, cluster, clusterSizes, dist, i, j, kClusters, limits, max_log, min, min_log, mindist, n, nb_iters, newCentroids, o, p, pb, pr, ref, ref1, ref10, ref11, ref12, ref13, ref14, ref2, ref3, ref4, ref5, ref6, ref7, ref8, ref9, repeat, sum, tmpKMeansBreaks, v, value, values, w;\n    if (mode == null) {\n      mode = 'equal';\n    }\n    if (num == null) {\n      num = 7;\n    }\n    if (type(data) === 'array') {\n      data = chroma.analyze(data);\n    }\n    min = data.min;\n    max = data.max;\n    sum = data.sum;\n    values = data.values.sort(function(a, b) {\n      return a - b;\n    });\n    if (num === 1) {\n      return [min, max];\n    }\n    limits = [];\n    if (mode.substr(0, 1) === 'c') {\n      limits.push(min);\n      limits.push(max);\n    }\n    if (mode.substr(0, 1) === 'e') {\n      limits.push(min);\n      for (i = o = 1, ref = num - 1; 1 <= ref ? o <= ref : o >= ref; i = 1 <= ref ? ++o : --o) {\n        limits.push(min + (i / num) * (max - min));\n      }\n      limits.push(max);\n    } else if (mode.substr(0, 1) === 'l') {\n      if (min <= 0) {\n        throw 'Logarithmic scales are only possible for values > 0';\n      }\n      min_log = Math.LOG10E * log(min);\n      max_log = Math.LOG10E * log(max);\n      limits.push(min);\n      for (i = w = 1, ref1 = num - 1; 1 <= ref1 ? w <= ref1 : w >= ref1; i = 1 <= ref1 ? ++w : --w) {\n        limits.push(pow(10, min_log + (i / num) * (max_log - min_log)));\n      }\n      limits.push(max);\n    } else if (mode.substr(0, 1) === 'q') {\n      limits.push(min);\n      for (i = aa = 1, ref2 = num - 1; 1 <= ref2 ? aa <= ref2 : aa >= ref2; i = 1 <= ref2 ? ++aa : --aa) {\n        p = (values.length - 1) * i / num;\n        pb = floor(p);\n        if (pb === p) {\n          limits.push(values[pb]);\n        } else {\n          pr = p - pb;\n          limits.push(values[pb] * (1 - pr) + values[pb + 1] * pr);\n        }\n      }\n      limits.push(max);\n    } else if (mode.substr(0, 1) === 'k') {\n\n      /*\n      implementation based on\n      http://code.google.com/p/figue/source/browse/trunk/figue.js#336\n      simplified for 1-d input values\n       */\n      n = values.length;\n      assignments = new Array(n);\n      clusterSizes = new Array(num);\n      repeat = true;\n      nb_iters = 0;\n      centroids = null;\n      centroids = [];\n      centroids.push(min);\n      for (i = ab = 1, ref3 = num - 1; 1 <= ref3 ? ab <= ref3 : ab >= ref3; i = 1 <= ref3 ? ++ab : --ab) {\n        centroids.push(min + (i / num) * (max - min));\n      }\n      centroids.push(max);\n      while (repeat) {\n        for (j = ac = 0, ref4 = num - 1; 0 <= ref4 ? ac <= ref4 : ac >= ref4; j = 0 <= ref4 ? ++ac : --ac) {\n          clusterSizes[j] = 0;\n        }\n        for (i = ad = 0, ref5 = n - 1; 0 <= ref5 ? ad <= ref5 : ad >= ref5; i = 0 <= ref5 ? ++ad : --ad) {\n          value = values[i];\n          mindist = Number.MAX_VALUE;\n          for (j = ae = 0, ref6 = num - 1; 0 <= ref6 ? ae <= ref6 : ae >= ref6; j = 0 <= ref6 ? ++ae : --ae) {\n            dist = abs(centroids[j] - value);\n            if (dist < mindist) {\n              mindist = dist;\n              best = j;\n            }\n          }\n          clusterSizes[best]++;\n          assignments[i] = best;\n        }\n        newCentroids = new Array(num);\n        for (j = af = 0, ref7 = num - 1; 0 <= ref7 ? af <= ref7 : af >= ref7; j = 0 <= ref7 ? ++af : --af) {\n          newCentroids[j] = null;\n        }\n        for (i = ag = 0, ref8 = n - 1; 0 <= ref8 ? ag <= ref8 : ag >= ref8; i = 0 <= ref8 ? ++ag : --ag) {\n          cluster = assignments[i];\n          if (newCentroids[cluster] === null) {\n            newCentroids[cluster] = values[i];\n          } else {\n            newCentroids[cluster] += values[i];\n          }\n        }\n        for (j = ah = 0, ref9 = num - 1; 0 <= ref9 ? ah <= ref9 : ah >= ref9; j = 0 <= ref9 ? ++ah : --ah) {\n          newCentroids[j] *= 1 / clusterSizes[j];\n        }\n        repeat = false;\n        for (j = ai = 0, ref10 = num - 1; 0 <= ref10 ? ai <= ref10 : ai >= ref10; j = 0 <= ref10 ? ++ai : --ai) {\n          if (newCentroids[j] !== centroids[i]) {\n            repeat = true;\n            break;\n          }\n        }\n        centroids = newCentroids;\n        nb_iters++;\n        if (nb_iters > 200) {\n          repeat = false;\n        }\n      }\n      kClusters = {};\n      for (j = aj = 0, ref11 = num - 1; 0 <= ref11 ? aj <= ref11 : aj >= ref11; j = 0 <= ref11 ? ++aj : --aj) {\n        kClusters[j] = [];\n      }\n      for (i = ak = 0, ref12 = n - 1; 0 <= ref12 ? ak <= ref12 : ak >= ref12; i = 0 <= ref12 ? ++ak : --ak) {\n        cluster = assignments[i];\n        kClusters[cluster].push(values[i]);\n      }\n      tmpKMeansBreaks = [];\n      for (j = al = 0, ref13 = num - 1; 0 <= ref13 ? al <= ref13 : al >= ref13; j = 0 <= ref13 ? ++al : --al) {\n        tmpKMeansBreaks.push(kClusters[j][0]);\n        tmpKMeansBreaks.push(kClusters[j][kClusters[j].length - 1]);\n      }\n      tmpKMeansBreaks = tmpKMeansBreaks.sort(function(a, b) {\n        return a - b;\n      });\n      limits.push(tmpKMeansBreaks[0]);\n      for (i = am = 1, ref14 = tmpKMeansBreaks.length - 1; am <= ref14; i = am += 2) {\n        v = tmpKMeansBreaks[i];\n        if (!isNaN(v) && limits.indexOf(v) === -1) {\n          limits.push(v);\n        }\n      }\n    }\n    return limits;\n  };\n\n  hsi2rgb = function(h, s, i) {\n\n    /*\n    borrowed from here:\n    http://hummer.stanford.edu/museinfo/doc/examples/humdrum/keyscape2/hsi2rgb.cpp\n     */\n    var args, b, g, r;\n    args = unpack(arguments);\n    h = args[0], s = args[1], i = args[2];\n    if (isNaN(h)) {\n      h = 0;\n    }\n    h /= 360;\n    if (h < 1 / 3) {\n      b = (1 - s) / 3;\n      r = (1 + s * cos(TWOPI * h) / cos(PITHIRD - TWOPI * h)) / 3;\n      g = 1 - (b + r);\n    } else if (h < 2 / 3) {\n      h -= 1 / 3;\n      r = (1 - s) / 3;\n      g = (1 + s * cos(TWOPI * h) / cos(PITHIRD - TWOPI * h)) / 3;\n      b = 1 - (r + g);\n    } else {\n      h -= 2 / 3;\n      g = (1 - s) / 3;\n      b = (1 + s * cos(TWOPI * h) / cos(PITHIRD - TWOPI * h)) / 3;\n      r = 1 - (g + b);\n    }\n    r = limit(i * r * 3);\n    g = limit(i * g * 3);\n    b = limit(i * b * 3);\n    return [r * 255, g * 255, b * 255, args.length > 3 ? args[3] : 1];\n  };\n\n  rgb2hsi = function() {\n\n    /*\n    borrowed from here:\n    http://hummer.stanford.edu/museinfo/doc/examples/humdrum/keyscape2/rgb2hsi.cpp\n     */\n    var b, g, h, i, min, r, ref, s;\n    ref = unpack(arguments), r = ref[0], g = ref[1], b = ref[2];\n    TWOPI = Math.PI * 2;\n    r /= 255;\n    g /= 255;\n    b /= 255;\n    min = Math.min(r, g, b);\n    i = (r + g + b) / 3;\n    s = 1 - min / i;\n    if (s === 0) {\n      h = 0;\n    } else {\n      h = ((r - g) + (r - b)) / 2;\n      h /= Math.sqrt((r - g) * (r - g) + (r - b) * (g - b));\n      h = Math.acos(h);\n      if (b > g) {\n        h = TWOPI - h;\n      }\n      h /= TWOPI;\n    }\n    return [h * 360, s, i];\n  };\n\n  chroma.hsi = function() {\n    return (function(func, args, ctor) {\n      ctor.prototype = func.prototype;\n      var child = new ctor, result = func.apply(child, args);\n      return Object(result) === result ? result : child;\n    })(Color, slice.call(arguments).concat(['hsi']), function(){});\n  };\n\n  _input.hsi = hsi2rgb;\n\n  Color.prototype.hsi = function() {\n    return rgb2hsi(this._rgb);\n  };\n\n  interpolate_hsx = function(col1, col2, f, m) {\n    var dh, hue, hue0, hue1, lbv, lbv0, lbv1, res, sat, sat0, sat1, xyz0, xyz1;\n    if (m === 'hsl') {\n      xyz0 = col1.hsl();\n      xyz1 = col2.hsl();\n    } else if (m === 'hsv') {\n      xyz0 = col1.hsv();\n      xyz1 = col2.hsv();\n    } else if (m === 'hcg') {\n      xyz0 = col1.hcg();\n      xyz1 = col2.hcg();\n    } else if (m === 'hsi') {\n      xyz0 = col1.hsi();\n      xyz1 = col2.hsi();\n    } else if (m === 'lch' || m === 'hcl') {\n      m = 'hcl';\n      xyz0 = col1.hcl();\n      xyz1 = col2.hcl();\n    }\n    if (m.substr(0, 1) === 'h') {\n      hue0 = xyz0[0], sat0 = xyz0[1], lbv0 = xyz0[2];\n      hue1 = xyz1[0], sat1 = xyz1[1], lbv1 = xyz1[2];\n    }\n    if (!isNaN(hue0) && !isNaN(hue1)) {\n      if (hue1 > hue0 && hue1 - hue0 > 180) {\n        dh = hue1 - (hue0 + 360);\n      } else if (hue1 < hue0 && hue0 - hue1 > 180) {\n        dh = hue1 + 360 - hue0;\n      } else {\n        dh = hue1 - hue0;\n      }\n      hue = hue0 + f * dh;\n    } else if (!isNaN(hue0)) {\n      hue = hue0;\n      if ((lbv1 === 1 || lbv1 === 0) && m !== 'hsv') {\n        sat = sat0;\n      }\n    } else if (!isNaN(hue1)) {\n      hue = hue1;\n      if ((lbv0 === 1 || lbv0 === 0) && m !== 'hsv') {\n        sat = sat1;\n      }\n    } else {\n      hue = Number.NaN;\n    }\n    if (sat == null) {\n      sat = sat0 + f * (sat1 - sat0);\n    }\n    lbv = lbv0 + f * (lbv1 - lbv0);\n    return res = chroma[m](hue, sat, lbv);\n  };\n\n  _interpolators = _interpolators.concat((function() {\n    var len, o, ref, results;\n    ref = ['hsv', 'hsl', 'hsi', 'hcl', 'lch', 'hcg'];\n    results = [];\n    for (o = 0, len = ref.length; o < len; o++) {\n      m = ref[o];\n      results.push([m, interpolate_hsx]);\n    }\n    return results;\n  })());\n\n  interpolate_num = function(col1, col2, f, m) {\n    var n1, n2;\n    n1 = col1.num();\n    n2 = col2.num();\n    return chroma.num(n1 + (n2 - n1) * f, 'num');\n  };\n\n  _interpolators.push(['num', interpolate_num]);\n\n  interpolate_lab = function(col1, col2, f, m) {\n    var res, xyz0, xyz1;\n    xyz0 = col1.lab();\n    xyz1 = col2.lab();\n    return res = new Color(xyz0[0] + f * (xyz1[0] - xyz0[0]), xyz0[1] + f * (xyz1[1] - xyz0[1]), xyz0[2] + f * (xyz1[2] - xyz0[2]), m);\n  };\n\n  _interpolators.push(['lab', interpolate_lab]);\n\n}).call(this);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/chroma-js/chroma.js","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// (webpack)/buildin/module.js"],"sourceRoot":""}